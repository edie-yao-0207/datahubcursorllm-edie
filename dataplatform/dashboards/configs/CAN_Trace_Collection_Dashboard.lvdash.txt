{
  "datasets": [
    {
      "name": "d2e28960",
      "displayName": "queries.overview.kpi_snapshot",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Overview\n",
        "-- View: KPI Snapshot\n",
        "-- =============================================================================\n",
        "-- Visualization: Counter\n",
        "-- Title: Overview KPIs\n",
        "-- Description: High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)\n",
        "-- Note: Uses definitions.445_calendar table for fiscal quarter definitions\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get current fiscal quarter dates from definition table\n",
        "current_quarter_info AS (\n",
        "    SELECT\n",
        "        fiscal_year,\n",
        "        quarter,\n",
        "        eoq AS quarter_end\n",
        "    FROM definitions.445_calendar\n",
        "    WHERE date = CURRENT_DATE()\n",
        "),\n",
        "-- Calculate quarter start by finding MIN(date) for the current fiscal year/quarter\n",
        "quarter_start_date AS (\n",
        "    SELECT\n",
        "        MIN(date) AS quarter_start\n",
        "    FROM definitions.445_calendar cal\n",
        "    CROSS JOIN current_quarter_info cqi\n",
        "    WHERE cal.fiscal_year = cqi.fiscal_year\n",
        "      AND cal.quarter = cqi.quarter\n",
        "),\n",
        "-- Combine quarter info\n",
        "fiscal_quarter AS (\n",
        "    SELECT\n",
        "        CAST(CONCAT('20', SUBSTRING(cqi.fiscal_year, 3)) AS INT) AS fiscal_year,  -- Extract year from 'FY24' format -> 2024\n",
        "        CAST(SUBSTRING(cqi.quarter, 2) AS INT) AS fiscal_quarter_num,  -- Extract quarter number from 'Q4' format\n",
        "        qsd.quarter_start,\n",
        "        cqi.quarter_end\n",
        "    FROM current_quarter_info cqi\n",
        "    CROSS JOIN quarter_start_date qsd\n",
        "),\n",
        "\n",
        "-- All-time: Count candidates from all candidate tables\n",
        "total_candidates AS (\n",
        "    SELECT COUNT(*) AS cnt\n",
        "    FROM datamodel_dev.fct_can_traces_required\n",
        "),\n",
        "\n",
        "-- Quarter: Count candidates in current fiscal quarter\n",
        "total_candidates_quarter AS (\n",
        "    SELECT COUNT(*) AS cnt\n",
        "    FROM datamodel_dev.fct_can_traces_required ftr\n",
        "    CROSS JOIN fiscal_quarter fq\n",
        "    WHERE ftr.date >= fq.quarter_start\n",
        "      AND ftr.date <= fq.quarter_end\n",
        "),\n",
        "\n",
        "-- All-time: Total collected traces from fct_can_trace_status (authoritative source)\n",
        "-- Count ALL traces across all date partitions (table is partitioned by trace start_time)\n",
        "total_collected AS (\n",
        "    SELECT COUNT(*) AS cnt\n",
        "    FROM product_analytics_staging.fct_can_trace_status\n",
        "),\n",
        "\n",
        "-- Quarter: Total collected traces in current fiscal quarter\n",
        "total_collected_quarter AS (\n",
        "    SELECT COUNT(*) AS cnt\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    CROSS JOIN fiscal_quarter fq\n",
        "    WHERE cts.date >= fq.quarter_start\n",
        "      AND cts.date <= fq.quarter_end\n",
        "),\n",
        "\n",
        "-- All-time: Active MMYEFs with candidates\n",
        "active_mmyefs AS (\n",
        "    SELECT COUNT(DISTINCT dvp.mmyef_id) AS cnt\n",
        "    FROM datamodel_dev.fct_can_traces_required ftr\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON ftr.date = dvp.date\n",
        "        AND ftr.org_id = dvp.org_id\n",
        "        AND ftr.device_id = dvp.device_id\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Quarter: Active MMYEFs with candidates in current fiscal quarter\n",
        "active_mmyefs_quarter AS (\n",
        "    SELECT COUNT(DISTINCT dvp.mmyef_id) AS cnt\n",
        "    FROM datamodel_dev.fct_can_traces_required ftr\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON ftr.date = dvp.date\n",
        "        AND ftr.org_id = dvp.org_id\n",
        "        AND ftr.device_id = dvp.device_id\n",
        "    CROSS JOIN fiscal_quarter fq\n",
        "    WHERE ftr.date >= fq.quarter_start\n",
        "      AND ftr.date <= fq.quarter_end\n",
        "      AND dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- All-time: MMYEFs with collected traces (from fct_can_trace_status)\n",
        "-- Count distinct MMYEFs across ALL traces\n",
        "mmyefs_with_traces AS (\n",
        "    SELECT COUNT(DISTINCT dvp.mmyef_id) AS cnt\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Quarter: MMYEFs with collected traces in current fiscal quarter\n",
        "mmyefs_with_traces_quarter AS (\n",
        "    SELECT COUNT(DISTINCT dvp.mmyef_id) AS cnt\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    CROSS JOIN fiscal_quarter fq\n",
        "    WHERE cts.date >= fq.quarter_start\n",
        "      AND cts.date <= fq.quarter_end\n",
        "      AND dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- All-time: Unique devices (from fct_can_trace_status)\n",
        "unique_devices AS (\n",
        "    SELECT COUNT(DISTINCT org_id, device_id) AS cnt\n",
        "    FROM product_analytics_staging.fct_can_trace_status\n",
        "),\n",
        "\n",
        "-- Quarter: Unique devices in current fiscal quarter\n",
        "unique_devices_quarter AS (\n",
        "    SELECT COUNT(DISTINCT org_id, device_id) AS cnt\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    CROSS JOIN fiscal_quarter fq\n",
        "    WHERE cts.date >= fq.quarter_start\n",
        "      AND cts.date <= fq.quarter_end\n",
        "),\n",
        "\n",
        "-- Total MMYEF population for diversity calculation (use latest date from dim table)\n",
        "total_mmyef_population AS (\n",
        "    SELECT COUNT(DISTINCT mmyef_id) AS cnt\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    -- All-time metrics\n",
        "    COALESCE(tc.cnt, 0) AS total_candidates,\n",
        "    COALESCE(tcol.cnt, 0) AS total_collected,\n",
        "    COALESCE(am.cnt, 0) AS active_mmyefs,\n",
        "    COALESCE(mwt.cnt, 0) AS mmyefs_with_traces,\n",
        "    COALESCE(ud.cnt, 0) AS unique_devices,\n",
        "    CASE \n",
        "        WHEN tmp.cnt > 0 THEN \n",
        "            CAST(mwt.cnt AS DOUBLE) / CAST(tmp.cnt AS DOUBLE)\n",
        "        ELSE 0.0\n",
        "    END AS quota_fulfillment_rate,\n",
        "    \n",
        "    -- Quarter metrics\n",
        "    COALESCE(tcq.cnt, 0) AS total_candidates_quarter,\n",
        "    COALESCE(tcolq.cnt, 0) AS total_collected_quarter,\n",
        "    COALESCE(amq.cnt, 0) AS active_mmyefs_quarter,\n",
        "    COALESCE(mwtq.cnt, 0) AS mmyefs_with_traces_quarter,\n",
        "    COALESCE(udq.cnt, 0) AS unique_devices_quarter,\n",
        "    CASE \n",
        "        WHEN tmp.cnt > 0 THEN \n",
        "            CAST(mwtq.cnt AS DOUBLE) / CAST(tmp.cnt AS DOUBLE)\n",
        "        ELSE 0.0\n",
        "    END AS quota_fulfillment_rate_quarter,\n",
        "    \n",
        "    -- Quarter info for display\n",
        "    fq.fiscal_year,\n",
        "    fq.fiscal_quarter_num,\n",
        "    CONCAT('Q', CAST(fq.fiscal_quarter_num AS STRING), ' ', CAST(fq.fiscal_year AS STRING)) AS quarter_label\n",
        "FROM fiscal_quarter fq\n",
        "CROSS JOIN total_candidates tc\n",
        "CROSS JOIN total_collected tcol\n",
        "CROSS JOIN active_mmyefs am\n",
        "CROSS JOIN mmyefs_with_traces mwt\n",
        "CROSS JOIN unique_devices ud\n",
        "CROSS JOIN total_mmyef_population tmp\n",
        "CROSS JOIN total_candidates_quarter tcq\n",
        "CROSS JOIN total_collected_quarter tcolq\n",
        "CROSS JOIN active_mmyefs_quarter amq\n",
        "CROSS JOIN mmyefs_with_traces_quarter mwtq\n",
        "CROSS JOIN unique_devices_quarter udq\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "8894d4db",
      "displayName": "queries.overview.quarter_candidates_generated_trend",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Overview\n",
        "-- View: Quarter Candidates Generated Trend\n",
        "-- =============================================================================\n",
        "-- Visualization: Line\n",
        "-- Title: Candidates Generated Over Time (Last 90 Days)\n",
        "-- Description: Daily candidates generated for the last 90 days (high volume, random sampling)\n",
        "-- Note: Shows trailing 90-day window to avoid future dates\n",
        "-- This shows candidate generation (from fct_can_traces_required), which is 100x more than uploaded traces\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Calculate trailing 90-day window\n",
        "date_range AS (\n",
        "    SELECT\n",
        "        DATE_SUB(CURRENT_DATE(), 90) AS start_date,\n",
        "        CURRENT_DATE() AS end_date\n",
        "    FROM (SELECT 1 AS dummy) t\n",
        "),\n",
        "\n",
        "-- Candidates generated per day in last 90 days\n",
        "candidates_per_day AS (\n",
        "    SELECT \n",
        "        CAST(ftr.date AS DATE) AS date,\n",
        "        COUNT(*) AS candidates_generated\n",
        "    FROM datamodel_dev.fct_can_traces_required ftr\n",
        "    CROSS JOIN date_range dr\n",
        "    WHERE ftr.date >= dr.start_date\n",
        "      AND ftr.date <= dr.end_date\n",
        "    GROUP BY ftr.date\n",
        "),\n",
        "\n",
        "-- Generate date series for last 90 days\n",
        "date_series AS (\n",
        "    SELECT explode(sequence(\n",
        "        dr.start_date,\n",
        "        dr.end_date,\n",
        "        interval 1 day\n",
        "    )) AS date\n",
        "    FROM date_range dr\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    CAST(ds.date AS DATE) AS date,\n",
        "    COALESCE(cpd.candidates_generated, 0) AS candidates_generated\n",
        "FROM date_series ds\n",
        "LEFT JOIN candidates_per_day cpd ON ds.date = cpd.date\n",
        "ORDER BY date\n",
        "\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "5a0c223b",
      "displayName": "queries.overview.quarter_traces_collected_trend",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Overview\n",
        "-- View: Quarter Traces Collected Trend\n",
        "-- =============================================================================\n",
        "-- Visualization: Line\n",
        "-- Title: Traces Collected Over Time (Last 90 Days)\n",
        "-- Description: Daily traces collected/uploaded to library for the last 90 days (low volume, uploaded traces)\n",
        "-- Note: Shows trailing 90-day window to avoid future dates\n",
        "-- This shows uploaded traces (from fct_can_trace_status), which are 100x less than candidates\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Calculate trailing 90-day window\n",
        "date_range AS (\n",
        "    SELECT\n",
        "        DATE_SUB(CURRENT_DATE(), 90) AS start_date,\n",
        "        CURRENT_DATE() AS end_date\n",
        "    FROM (SELECT 1 AS dummy) t\n",
        "),\n",
        "\n",
        "-- Traces collected per day in last 90 days\n",
        "collected_per_day AS (\n",
        "    SELECT \n",
        "        CAST(cts.date AS DATE) AS date,\n",
        "        COUNT(*) AS traces_collected\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    CROSS JOIN date_range dr\n",
        "    WHERE cts.date >= dr.start_date\n",
        "      AND cts.date <= dr.end_date\n",
        "    GROUP BY date\n",
        "),\n",
        "\n",
        "-- Generate date series for last 90 days\n",
        "date_series AS (\n",
        "    SELECT explode(sequence(\n",
        "        dr.start_date,\n",
        "        dr.end_date,\n",
        "        interval 1 day\n",
        "    )) AS date\n",
        "    FROM date_range dr\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    CAST(ds.date AS DATE) AS date,\n",
        "    COALESCE(cpd.traces_collected, 0) AS traces_collected\n",
        "FROM date_series ds\n",
        "LEFT JOIN collected_per_day cpd ON ds.date = cpd.date\n",
        "ORDER BY date\n",
        "\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "2abd46d1",
      "displayName": "queries.overview.quarter_candidates_by_type",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Overview\n",
        "-- View: Quarter Candidates by Type\n",
        "-- =============================================================================\n",
        "-- Visualization: Area\n",
        "-- Title: Candidates by Query Type (Last 90 Days)\n",
        "-- Description: Daily candidate counts by query type for the last 90 days\n",
        "-- Note: Shows trailing 90-day window to avoid future dates\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Calculate trailing 90-day window\n",
        "date_range AS (\n",
        "    SELECT\n",
        "        DATE_SUB(CURRENT_DATE(), 90) AS start_date,\n",
        "        CURRENT_DATE() AS end_date\n",
        "    FROM (SELECT 1 AS dummy) t\n",
        "),\n",
        "\n",
        "-- Explode tags array from fct_can_traces_required to get one row per tag\n",
        "traces_with_tags_exploded AS (\n",
        "    SELECT\n",
        "        CAST(fctr.date AS DATE) AS date,\n",
        "        tag AS query_type\n",
        "    FROM datamodel_dev.fct_can_traces_required fctr\n",
        "    CROSS JOIN date_range dr\n",
        "    LATERAL VIEW explode(fctr.tags) tag_table AS tag\n",
        "    WHERE fctr.date >= dr.start_date\n",
        "      AND fctr.date <= dr.end_date\n",
        "),\n",
        "\n",
        "-- Get all distinct query types from the data (to ensure we show all tags even if date range is empty)\n",
        "all_query_types AS (\n",
        "    SELECT DISTINCT tag AS query_type\n",
        "    FROM datamodel_dev.fct_can_traces_required fctr\n",
        "    LATERAL VIEW explode(fctr.tags) tag_table AS tag\n",
        "),\n",
        "\n",
        "-- Count candidates per date and query_type\n",
        "all_candidates AS (\n",
        "    SELECT\n",
        "        date,\n",
        "        query_type,\n",
        "        COUNT(*) AS candidate_count\n",
        "    FROM traces_with_tags_exploded\n",
        "    GROUP BY date, query_type\n",
        "),\n",
        "\n",
        "-- Generate date series for last 90 days\n",
        "date_series AS (\n",
        "    SELECT explode(sequence(\n",
        "        dr.start_date,\n",
        "        dr.end_date,\n",
        "        interval 1 day\n",
        "    )) AS date\n",
        "    FROM date_range dr\n",
        "),\n",
        "\n",
        "-- Cross join date series with all query types to ensure all combinations exist\n",
        "date_query_types AS (\n",
        "    SELECT\n",
        "        CAST(ds.date AS DATE) AS date,\n",
        "        aqt.query_type\n",
        "    FROM date_series ds\n",
        "    CROSS JOIN all_query_types aqt\n",
        "),\n",
        "\n",
        "-- Join with actual counts, filling missing dates with 0\n",
        "daily_counts AS (\n",
        "    SELECT\n",
        "        dqt.date,\n",
        "        dqt.query_type,\n",
        "        COALESCE(ac.candidate_count, 0) AS candidate_count\n",
        "    FROM date_query_types dqt\n",
        "    LEFT JOIN all_candidates ac ON dqt.date = ac.date AND dqt.query_type = ac.query_type\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    date,\n",
        "    query_type,\n",
        "    candidate_count\n",
        "FROM daily_counts\n",
        "ORDER BY date, query_type\n",
        "\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "629c0bf6",
      "displayName": "queries.diversity.diversity_snapshot",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Diversity Metrics\n",
        "-- View: Diversity Snapshot\n",
        "-- =============================================================================\n",
        "-- Visualization: Counter\n",
        "-- Title: Diversity Snapshot\n",
        "-- Description: Unique MMYEFs and devices with collected traces (all-time cumulative)\n",
        "-- =============================================================================\n",
        "\n",
        "-- Get total population counts (use latest date from dim table for current population)\n",
        "WITH total_population AS (\n",
        "    SELECT \n",
        "        COUNT(DISTINCT mmyef_id) AS total_mmyefs,\n",
        "        COUNT(DISTINCT org_id, device_id) AS total_devices\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Get counts with traces (all-time from fct_can_trace_status)\n",
        "with_traces AS (\n",
        "    SELECT\n",
        "        COUNT(DISTINCT dvp.mmyef_id) AS unique_mmyefs,\n",
        "        COUNT(DISTINCT cts.org_id, cts.device_id) AS unique_devices\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    wt.unique_mmyefs,\n",
        "    tp.total_mmyefs,\n",
        "    CAST(wt.unique_mmyefs AS DOUBLE) / NULLIF(CAST(tp.total_mmyefs AS DOUBLE), 0) AS mmyef_coverage_pct,\n",
        "    wt.unique_devices,\n",
        "    tp.total_devices,\n",
        "    CAST(wt.unique_devices AS DOUBLE) / NULLIF(CAST(tp.total_devices AS DOUBLE), 0) AS device_coverage_pct\n",
        "FROM with_traces wt\n",
        "CROSS JOIN total_population tp\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "c99b3299",
      "displayName": "queries.diversity.collection_distribution",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Diversity Metrics\n",
        "-- View: Collection Distribution\n",
        "-- =============================================================================\n",
        "-- Visualization: Bar\n",
        "-- Title: Collection Distribution (Traces per MMYEF)\n",
        "-- Description: Histogram of MMYEFs by trace count buckets (all-time cumulative)\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get all MMYEFs in population (latest date from dim table)\n",
        "all_mmyefs AS (\n",
        "    SELECT DISTINCT dvp.mmyef_id\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "    WHERE dvp.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Aggregate collected traces per MMYEF (all-time from fct_can_trace_status)\n",
        "mmyef_trace_counts AS (\n",
        "    SELECT\n",
        "        dvp.mmyef_id,\n",
        "        COUNT(DISTINCT cts.trace_uuid) AS total_collected_count\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "    GROUP BY dvp.mmyef_id\n",
        "),\n",
        "\n",
        "-- Join all MMYEFs with trace counts (0 for MMYEFs with no traces)\n",
        "mmyef_with_counts AS (\n",
        "    SELECT\n",
        "        am.mmyef_id,\n",
        "        COALESCE(mtc.total_collected_count, 0) AS total_collected_count\n",
        "    FROM all_mmyefs am\n",
        "    LEFT JOIN mmyef_trace_counts mtc ON am.mmyef_id = mtc.mmyef_id\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    CASE\n",
        "        WHEN total_collected_count = 0 THEN '0'\n",
        "        WHEN total_collected_count BETWEEN 1 AND 5 THEN '1-5'\n",
        "        WHEN total_collected_count BETWEEN 6 AND 10 THEN '6-10'\n",
        "        WHEN total_collected_count BETWEEN 11 AND 20 THEN '11-20'\n",
        "        WHEN total_collected_count BETWEEN 21 AND 50 THEN '21-50'\n",
        "        WHEN total_collected_count BETWEEN 51 AND 100 THEN '51-100'\n",
        "        ELSE '100+'\n",
        "    END AS trace_count_bucket,\n",
        "    COUNT(*) AS mmyef_count\n",
        "FROM mmyef_with_counts\n",
        "GROUP BY trace_count_bucket\n",
        "ORDER BY \n",
        "    CASE trace_count_bucket\n",
        "        WHEN '0' THEN 1\n",
        "        WHEN '1-5' THEN 2\n",
        "        WHEN '6-10' THEN 3\n",
        "        WHEN '11-20' THEN 4\n",
        "        WHEN '21-50' THEN 5\n",
        "        WHEN '51-100' THEN 6\n",
        "        ELSE 7\n",
        "    END\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "99d33e19",
      "displayName": "queries.diversity.top_mmyefs",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Diversity Metrics\n",
        "-- View: Top MMYEFs\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Top MMYEFs by Collection Count\n",
        "-- Description: MMYEFs with the most collected traces (all-time cumulative)\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Aggregate collected traces per MMYEF (all-time from fct_can_trace_status)\n",
        "mmyef_trace_counts AS (\n",
        "    SELECT\n",
        "        dvp.mmyef_id,\n",
        "        COUNT(DISTINCT cts.trace_uuid) AS total_collected_count\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "    GROUP BY dvp.mmyef_id\n",
        "),\n",
        "\n",
        "-- Get vehicle properties with translations\n",
        "vehicle_properties_with_translations AS (\n",
        "    SELECT DISTINCT \n",
        "        dvp2.mmyef_id,\n",
        "        dvp2.make,\n",
        "        dvp2.model,\n",
        "        dvp2.year,\n",
        "        dvp2.engine_model,\n",
        "        dvp2.powertrain AS powertrain_id,\n",
        "        dvp2.fuel_group AS fuel_group_id,\n",
        "        dvp2.trim,\n",
        "        pt.name AS powertrain,\n",
        "        fg.name AS fuel_group\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp2\n",
        "    LEFT JOIN definitions.properties_fuel_powertrain pt ON pt.id = dvp2.powertrain\n",
        "    LEFT JOIN definitions.properties_fuel_fuelgroup fg ON fg.id = dvp2.fuel_group\n",
        "    WHERE dvp2.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    mtc.mmyef_id,\n",
        "    dvp.make,\n",
        "    dvp.model,\n",
        "    dvp.year,\n",
        "    dvp.engine_model,\n",
        "    dvp.powertrain,\n",
        "    dvp.fuel_group,\n",
        "    dvp.trim,\n",
        "    mtc.total_collected_count\n",
        "FROM mmyef_trace_counts mtc\n",
        "LEFT JOIN vehicle_properties_with_translations dvp ON mtc.mmyef_id = dvp.mmyef_id\n",
        "ORDER BY mtc.total_collected_count DESC\n",
        "LIMIT 50\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "35f80561",
      "displayName": "queries.diversity.underrepresented_mmyefs",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Diversity Metrics\n",
        "-- View: Underrepresented MMYEFs\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Underrepresented MMYEFs (0 Traces)\n",
        "-- Description: MMYEFs with no collected traces (all-time cumulative) - prioritize for collection\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get MMYEFs with traces (all-time from fct_can_trace_status)\n",
        "mmyefs_with_traces AS (\n",
        "    SELECT DISTINCT dvp.mmyef_id\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Get all MMYEFs in population (latest date from dim table)\n",
        "all_mmyefs AS (\n",
        "    SELECT DISTINCT dvp.mmyef_id\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "    WHERE dvp.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND dvp.mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Get vehicle properties with translations\n",
        "vehicle_properties_with_translations AS (\n",
        "    SELECT DISTINCT \n",
        "        dvp2.mmyef_id,\n",
        "        dvp2.make,\n",
        "        dvp2.model,\n",
        "        dvp2.year,\n",
        "        dvp2.engine_model,\n",
        "        dvp2.powertrain AS powertrain_id,\n",
        "        dvp2.fuel_group AS fuel_group_id,\n",
        "        dvp2.trim,\n",
        "        pt.name AS powertrain,\n",
        "        fg.name AS fuel_group\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp2\n",
        "    LEFT JOIN definitions.properties_fuel_powertrain pt ON pt.id = dvp2.powertrain\n",
        "    LEFT JOIN definitions.properties_fuel_fuelgroup fg ON fg.id = dvp2.fuel_group\n",
        "    WHERE dvp2.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    am.mmyef_id,\n",
        "    dvp.make,\n",
        "    dvp.model,\n",
        "    dvp.year,\n",
        "    dvp.engine_model,\n",
        "    dvp.powertrain,\n",
        "    dvp.fuel_group,\n",
        "    dvp.trim,\n",
        "    0 AS total_collected_count\n",
        "FROM all_mmyefs am\n",
        "LEFT JOIN mmyefs_with_traces mwt ON am.mmyef_id = mwt.mmyef_id\n",
        "LEFT JOIN vehicle_properties_with_translations dvp ON am.mmyef_id = dvp.mmyef_id\n",
        "WHERE mwt.mmyef_id IS NULL\n",
        "ORDER BY am.mmyef_id\n",
        "LIMIT 100\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "c04cbb4a",
      "displayName": "queries.tag.device_coverage_per_tag",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: By Tag\n",
        "-- View: Device Coverage Percentage by Tag\n",
        "-- =============================================================================\n",
        "-- Visualization: Line\n",
        "-- Title: Device Coverage % by Tag Over Time\n",
        "-- Description: Percentage of device population covered by each tag over time (cumulative)\n",
        "-- Note: Uses fct_can_trace_status which stores all-time collected traces.\n",
        "-- Coverage = (Devices with traces for tag up to date X) / (Total devices in population)\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get total device population (use latest date for normalization)\n",
        "total_population AS (\n",
        "    SELECT COUNT(DISTINCT org_id, device_id) AS total_devices\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Explode tag_names array from fct_can_trace_status to get one row per tag per trace\n",
        "-- Count distinct devices with each tag per date\n",
        "traces_with_tags_exploded AS (\n",
        "    SELECT\n",
        "        CAST(cts.date AS DATE) AS date,\n",
        "        cts.org_id,\n",
        "        cts.device_id,\n",
        "        exploded_tag AS tag_name,\n",
        "        cts.trace_uuid\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    LATERAL VIEW explode(cts.tag_names) tag_table AS exploded_tag\n",
        "    WHERE cts.date BETWEEN :date.min AND :date.max\n",
        "      AND cts.tag_names IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Count distinct devices with each tag per date (cumulative: all devices seen up to this date)\n",
        "-- Similar to MMYEF coverage, but using device-level aggregation\n",
        "device_tag_first_seen AS (\n",
        "    SELECT\n",
        "        org_id,\n",
        "        device_id,\n",
        "        tag_name,\n",
        "        MIN(date) AS first_seen_date\n",
        "    FROM traces_with_tags_exploded\n",
        "    GROUP BY org_id, device_id, tag_name\n",
        "),\n",
        "\n",
        "-- Get all distinct tags from the data (to ensure we show all tags even if date range is empty)\n",
        "all_tags AS (\n",
        "    SELECT DISTINCT exploded_tag AS tag_name\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    LATERAL VIEW explode(cts.tag_names) tag_table AS exploded_tag\n",
        "    WHERE cts.tag_names IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Generate date series\n",
        "date_series AS (\n",
        "    SELECT explode(sequence(\n",
        "        date(:date.min),\n",
        "        date(:date.max),\n",
        "        interval 1 day\n",
        "    )) AS date\n",
        "),\n",
        "\n",
        "-- Cross join date series with all tags to ensure all combinations exist\n",
        "date_tags AS (\n",
        "    SELECT\n",
        "        CAST(ds.date AS DATE) AS date,\n",
        "        at.tag_name\n",
        "    FROM date_series ds\n",
        "    CROSS JOIN all_tags at\n",
        "),\n",
        "\n",
        "-- Count cumulative devices (devices that first appeared on or before this date)\n",
        "cumulative_device_tags AS (\n",
        "    SELECT\n",
        "        dt.date,\n",
        "        dt.tag_name,\n",
        "        COUNT(DISTINCT dtfs.org_id, dtfs.device_id) AS devices_with_tag\n",
        "    FROM date_tags dt\n",
        "    LEFT JOIN device_tag_first_seen dtfs\n",
        "        ON dtfs.tag_name = dt.tag_name\n",
        "        AND dtfs.first_seen_date <= dt.date\n",
        "    GROUP BY dt.date, dt.tag_name\n",
        "),\n",
        "\n",
        "coverage_with_pct AS (\n",
        "    SELECT\n",
        "        cdt.date,\n",
        "        cdt.tag_name,\n",
        "        COALESCE(cdt.devices_with_tag, 0) AS devices_with_tag,\n",
        "        CAST(COALESCE(cdt.devices_with_tag, 0) AS DOUBLE) / NULLIF(CAST(tp.total_devices AS DOUBLE), 0) AS coverage_pct\n",
        "    FROM cumulative_device_tags cdt\n",
        "    CROSS JOIN total_population tp\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    date,\n",
        "    tag_name,\n",
        "    coverage_pct\n",
        "FROM coverage_with_pct\n",
        "ORDER BY date, tag_name\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "205cb26b",
      "displayName": "queries.overview.coverage_percentage_by_tag",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Overview\n",
        "-- View: Coverage Percentage by Tag\n",
        "-- =============================================================================\n",
        "-- Visualization: Line\n",
        "-- Title: MMYEF Coverage % by Tag Over Time\n",
        "-- Description: Percentage of MMYEF population covered by each tag over time (cumulative)\n",
        "-- Note: Uses agg_tags_per_mmyef which stores cumulative counts per date partition.\n",
        "-- Coverage = (MMYEFs with traces for tag up to date X) / (Total MMYEFs in population)\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get total MMYEF population (use latest date for normalization)\n",
        "total_population AS (\n",
        "    SELECT COUNT(DISTINCT mmyef_id) AS total_mmyefs\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Explode tag_counts_map from agg_tags_per_mmyef to get one row per (date, MMYEF, tag)\n",
        "mmyef_tags_exploded AS (\n",
        "    SELECT\n",
        "        CAST(atpm.date AS DATE) AS date,\n",
        "        atpm.mmyef_id,\n",
        "        exploded.tag_name,\n",
        "        exploded.tag_count\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef atpm\n",
        "    LATERAL VIEW explode(atpm.tag_counts_map) exploded AS tag_name, tag_count\n",
        "    WHERE atpm.date BETWEEN :date.min AND :date.max\n",
        "      AND atpm.tag_counts_map IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Get all distinct tags from the data (to ensure we show all tags even if date range is empty)\n",
        "all_tags AS (\n",
        "    SELECT DISTINCT exploded.tag_name\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef atpm\n",
        "    LATERAL VIEW explode(atpm.tag_counts_map) exploded AS tag_name, tag_count\n",
        "    WHERE atpm.tag_counts_map IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Count distinct MMYEFs with each tag per date (MMYEFs with tag_count > 0)\n",
        "coverage_counts AS (\n",
        "    SELECT\n",
        "        date,\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT CASE WHEN tag_count > 0 THEN mmyef_id END) AS mmyefs_with_tag\n",
        "    FROM mmyef_tags_exploded\n",
        "    GROUP BY date, tag_name\n",
        "),\n",
        "\n",
        "-- Generate date series\n",
        "date_series AS (\n",
        "    SELECT explode(sequence(\n",
        "        date(:date.min),\n",
        "        date(:date.max),\n",
        "        interval 1 day\n",
        "    )) AS date\n",
        "),\n",
        "\n",
        "-- Cross join date series with all tags to ensure all combinations exist\n",
        "date_tags AS (\n",
        "    SELECT\n",
        "        CAST(ds.date AS DATE) AS date,\n",
        "        at.tag_name\n",
        "    FROM date_series ds\n",
        "    CROSS JOIN all_tags at\n",
        "),\n",
        "\n",
        "-- Join with actual counts and calculate coverage percentage\n",
        "coverage_with_pct AS (\n",
        "    SELECT\n",
        "        dt.date,\n",
        "        dt.tag_name,\n",
        "        COALESCE(cc.mmyefs_with_tag, 0) AS mmyefs_with_tag,\n",
        "        CAST(COALESCE(cc.mmyefs_with_tag, 0) AS DOUBLE) / NULLIF(CAST(tp.total_mmyefs AS DOUBLE), 0) AS coverage_pct\n",
        "    FROM date_tags dt\n",
        "    CROSS JOIN total_population tp\n",
        "    LEFT JOIN coverage_counts cc ON dt.date = cc.date AND dt.tag_name = cc.tag_name\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    date,\n",
        "    tag_name,\n",
        "    coverage_pct\n",
        "FROM coverage_with_pct\n",
        "ORDER BY date, tag_name\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "5a9b401c",
      "displayName": "queries.candidates.daily_candidates_by_type",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Candidates\n",
        "-- View: Daily Candidates by Query Type\n",
        "-- =============================================================================\n",
        "-- Visualization: Line\n",
        "-- Title: Daily Candidates by Query Type\n",
        "-- Description: Daily candidate counts broken down by query type\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Explode tags array from fct_can_traces_required to get one row per tag\n",
        "traces_with_tags_exploded AS (\n",
        "    SELECT\n",
        "        CAST(fctr.date AS DATE) AS date,\n",
        "        tag AS query_type\n",
        "    FROM datamodel_dev.fct_can_traces_required fctr\n",
        "    LATERAL VIEW explode(fctr.tags) tag_table AS tag\n",
        "    WHERE fctr.date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "-- Get all distinct query types from the data (to ensure we show all tags even if date range is empty)\n",
        "all_query_types AS (\n",
        "    SELECT DISTINCT tag AS query_type\n",
        "    FROM datamodel_dev.fct_can_traces_required fctr\n",
        "    LATERAL VIEW explode(fctr.tags) tag_table AS tag\n",
        "),\n",
        "\n",
        "-- Count candidates per date and query_type\n",
        "all_candidates AS (\n",
        "    SELECT \n",
        "        date,\n",
        "        query_type,\n",
        "        COUNT(*) AS candidate_count\n",
        "    FROM traces_with_tags_exploded\n",
        "    GROUP BY date, query_type\n",
        "),\n",
        "\n",
        "-- Generate date series\n",
        "date_series AS (\n",
        "    SELECT explode(sequence(\n",
        "        date(:date.min),\n",
        "        date(:date.max),\n",
        "        interval 1 day\n",
        "    )) AS date\n",
        "),\n",
        "\n",
        "-- Cross join date series with all query types to ensure all combinations exist\n",
        "date_query_types AS (\n",
        "    SELECT \n",
        "        CAST(ds.date AS DATE) AS date,\n",
        "        aqt.query_type\n",
        "    FROM date_series ds\n",
        "    CROSS JOIN all_query_types aqt\n",
        ")\n",
        "\n",
        "-- Join with actual counts, filling missing dates with 0\n",
        "SELECT\n",
        "    dqt.date,\n",
        "    dqt.query_type,\n",
        "    COALESCE(ac.candidate_count, 0) AS candidate_count\n",
        "FROM date_query_types dqt\n",
        "LEFT JOIN all_candidates ac ON dqt.date = ac.date AND dqt.query_type = ac.query_type\n",
        "ORDER BY date, query_type\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "ff0b99a9",
      "displayName": "queries.tag_performance.tag_performance_summary",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Tag Performance\n",
        "-- View: Tag Performance Summary\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Tag Performance Summary\n",
        "-- Description: High-level performance metrics per tag: MMYEF coverage, quota fulfillment, training needs, and reverse engineering gaps\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get all MMYEFs in the population (latest date from dim table)\n",
        "total_population AS (\n",
        "    SELECT COUNT(DISTINCT mmyef_id) AS total_mmyefs\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- MMYEF coverage per tag (from mmyef_diversity_per_tag logic)\n",
        "traces_with_tags_exploded AS (\n",
        "    SELECT\n",
        "        dvp.mmyef_id,\n",
        "        exploded_tag AS tag_name,\n",
        "        cts.trace_uuid\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    LATERAL VIEW explode(cts.tag_names) tag_table AS exploded_tag\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "      AND cts.tag_names IS NOT NULL\n",
        "),\n",
        "\n",
        "mmyef_tag_counts AS (\n",
        "    SELECT\n",
        "        mmyef_id,\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT trace_uuid) AS tag_count\n",
        "    FROM traces_with_tags_exploded\n",
        "    GROUP BY mmyef_id, tag_name\n",
        "),\n",
        "\n",
        "tag_coverage AS (\n",
        "    SELECT\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT mmyef_id) AS mmyefs_with_tag,\n",
        "        SUM(tag_count) AS total_traces\n",
        "    FROM mmyef_tag_counts\n",
        "    GROUP BY tag_name\n",
        "),\n",
        "\n",
        "-- Quota fulfillment per tag (from quota_fulfillment_by_type logic)\n",
        "latest_snapshot_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef\n",
        "),\n",
        "\n",
        "mmyef_tags_exploded AS (\n",
        "    SELECT\n",
        "        atpm.mmyef_id,\n",
        "        exploded.tag_name,\n",
        "        exploded.tag_count,\n",
        "        CASE \n",
        "            WHEN exploded.tag_name = 'can-set-main-0' THEN 10\n",
        "            ELSE 0  -- No quota for other tags\n",
        "        END AS quota\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef atpm\n",
        "    CROSS JOIN latest_snapshot_date lsd\n",
        "    LATERAL VIEW explode(atpm.tag_counts_map) exploded AS tag_name, tag_count\n",
        "    WHERE atpm.date = lsd.max_date\n",
        "      AND atpm.tag_counts_map IS NOT NULL\n",
        "),\n",
        "\n",
        "tag_quota_aggregates AS (\n",
        "    SELECT\n",
        "        tag_name,\n",
        "        quota,\n",
        "        COUNT(DISTINCT CASE WHEN tag_count >= quota AND quota > 0 THEN mmyef_id END) AS meeting_quota_count,\n",
        "        COUNT(DISTINCT mmyef_id) AS total_mmyefs_with_tag_for_quota\n",
        "    FROM mmyef_tags_exploded\n",
        "    GROUP BY tag_name, quota\n",
        "),\n",
        "\n",
        "tag_quota_summary AS (\n",
        "    SELECT\n",
        "        tag_name,\n",
        "        quota,\n",
        "        COALESCE(meeting_quota_count, 0) AS mmyefs_meeting_quota,\n",
        "        total_mmyefs_with_tag_for_quota AS total_mmyefs_with_quota,\n",
        "        CASE \n",
        "            WHEN quota > 0 THEN\n",
        "                CAST(COALESCE(meeting_quota_count, 0) AS DOUBLE) / NULLIF(CAST(total_mmyefs_with_tag_for_quota AS DOUBLE), 0)\n",
        "            ELSE NULL\n",
        "        END AS quota_fulfillment_rate\n",
        "    FROM tag_quota_aggregates\n",
        "),\n",
        "\n",
        "-- Training needs: Stream IDs needing more traces (for can-set-training-stream-id-0 tag)\n",
        "-- Get latest date for training candidates\n",
        "training_latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "training_needs AS (\n",
        "    SELECT \n",
        "        'can-set-training-stream-id-0' AS tag_name,\n",
        "        COUNT(DISTINCT stream_id) AS stream_ids_needing_traces\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date = (SELECT max_date FROM training_latest_date)\n",
        "),\n",
        "\n",
        "-- Reverse engineering gaps: Devices with coverage gaps (applies to training/inference tags)\n",
        "reverse_eng_latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "reverse_eng_gaps AS (\n",
        "    SELECT\n",
        "        COUNT(DISTINCT STRUCT(org_id, device_id)) AS devices_with_gaps,\n",
        "        COUNT(DISTINCT CASE WHEN for_training = TRUE THEN STRUCT(org_id, device_id) ELSE NULL END) AS devices_for_training,\n",
        "        COUNT(DISTINCT CASE WHEN for_inference = TRUE THEN STRUCT(org_id, device_id) ELSE NULL END) AS devices_for_inference\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "    WHERE date = (SELECT max_date FROM reverse_eng_latest_date)\n",
        "      AND coverage_gap_count > 0\n",
        "),\n",
        "\n",
        "-- Get all tags from tag_coverage\n",
        "all_tags AS (\n",
        "    SELECT DISTINCT tag_name FROM tag_coverage\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    at.tag_name,\n",
        "    -- Coverage metrics\n",
        "    COALESCE(tc.mmyefs_with_tag, 0) AS mmyefs_with_tag,\n",
        "    tp.total_mmyefs AS total_mmyef_population,\n",
        "    CASE \n",
        "        WHEN tp.total_mmyefs > 0 THEN\n",
        "            CAST(COALESCE(tc.mmyefs_with_tag, 0) AS DOUBLE) / CAST(tp.total_mmyefs AS DOUBLE)\n",
        "        ELSE 0.0\n",
        "    END AS mmyef_coverage_pct,\n",
        "    COALESCE(tc.total_traces, 0) AS total_traces,\n",
        "    -- Quota metrics\n",
        "    COALESCE(tqs.quota, 0) AS quota,\n",
        "    COALESCE(tqs.mmyefs_meeting_quota, 0) AS mmyefs_meeting_quota,\n",
        "    COALESCE(tqs.total_mmyefs_with_quota, 0) AS total_mmyefs_with_quota,\n",
        "    tqs.quota_fulfillment_rate,\n",
        "    -- Training needs (only for can-set-training-stream-id-0)\n",
        "    CASE \n",
        "        WHEN at.tag_name = 'can-set-training-stream-id-0' THEN COALESCE(tn.stream_ids_needing_traces, 0)\n",
        "        ELSE NULL\n",
        "    END AS stream_ids_needing_traces,\n",
        "    -- Reverse engineering gaps (applies to training/inference tags)\n",
        "    CASE \n",
        "        WHEN at.tag_name = 'can-set-training-0' THEN COALESCE(reg.devices_for_training, 0)\n",
        "        WHEN at.tag_name = 'can-set-inference-0' THEN COALESCE(reg.devices_for_inference, 0)\n",
        "        ELSE NULL\n",
        "    END AS reverse_eng_devices_count\n",
        "FROM all_tags at\n",
        "CROSS JOIN total_population tp\n",
        "CROSS JOIN reverse_eng_gaps reg\n",
        "LEFT JOIN tag_coverage tc ON at.tag_name = tc.tag_name\n",
        "LEFT JOIN tag_quota_summary tqs ON at.tag_name = tqs.tag_name\n",
        "LEFT JOIN training_needs tn ON at.tag_name = tn.tag_name\n",
        "ORDER BY tc.mmyefs_with_tag DESC, tc.total_traces DESC\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "3e2d246a",
      "displayName": "queries.tag.device_diversity_per_tag",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: By Tag\n",
        "-- View: Device Diversity Per Tag\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Device Diversity Per Tag\n",
        "-- Description: Device coverage and diversity metrics for each trace collection tag (all-time cumulative)\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get all devices in the population (latest date from dim table)\n",
        "total_population AS (\n",
        "    SELECT COUNT(DISTINCT org_id, device_id) AS total_devices\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Explode tag_names array from fct_can_trace_status to get one row per tag per trace\n",
        "traces_with_tags_exploded AS (\n",
        "    SELECT\n",
        "        cts.org_id,\n",
        "        cts.device_id,\n",
        "        exploded_tag AS tag_name,\n",
        "        cts.trace_uuid\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    LATERAL VIEW explode(cts.tag_names) tag_table AS exploded_tag\n",
        "    WHERE cts.tag_names IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Aggregate trace counts per tag per device (all-time)\n",
        "device_tag_counts AS (\n",
        "    SELECT\n",
        "        org_id,\n",
        "        device_id,\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT trace_uuid) AS tag_count\n",
        "    FROM traces_with_tags_exploded\n",
        "    GROUP BY org_id, device_id, tag_name\n",
        "),\n",
        "\n",
        "-- Aggregate metrics per tag\n",
        "tag_diversity AS (\n",
        "    SELECT\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT STRUCT(org_id, device_id)) AS devices_with_tag,\n",
        "        SUM(tag_count) AS total_traces,\n",
        "        AVG(tag_count) AS avg_traces_per_device,\n",
        "        PERCENTILE(tag_count, 0.5) AS median_traces_per_device,\n",
        "        MAX(tag_count) AS max_traces_per_device\n",
        "    FROM device_tag_counts\n",
        "    GROUP BY tag_name\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    td.tag_name,\n",
        "    td.devices_with_tag,\n",
        "    tp.total_devices AS total_device_population,\n",
        "    CAST(td.devices_with_tag AS DOUBLE) / NULLIF(CAST(tp.total_devices AS DOUBLE), 0) AS device_coverage_pct,\n",
        "    td.total_traces,\n",
        "    ROUND(td.avg_traces_per_device, 2) AS avg_traces_per_device,\n",
        "    ROUND(td.median_traces_per_device, 2) AS median_traces_per_device,\n",
        "    td.max_traces_per_device\n",
        "FROM tag_diversity td\n",
        "CROSS JOIN total_population tp\n",
        "ORDER BY td.devices_with_tag DESC, td.total_traces DESC\n",
        "\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "10878dac",
      "displayName": "queries.diversity.mmyef_diversity_per_tag",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Diversity Metrics\n",
        "-- View: MMYEF Diversity Per Tag\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: MMYEF Diversity Per Tag\n",
        "-- Description: MMYEF coverage and diversity metrics for each trace collection tag (all-time cumulative)\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get all MMYEFs in the population (latest date from dim table)\n",
        "total_population AS (\n",
        "    SELECT COUNT(DISTINCT mmyef_id) AS total_mmyefs\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties\n",
        "    WHERE date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "      AND mmyef_id IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Explode tag_names array from fct_can_trace_status to get one row per tag per trace\n",
        "traces_with_tags_exploded AS (\n",
        "    SELECT\n",
        "        dvp.mmyef_id,\n",
        "        exploded_tag AS tag_name,\n",
        "        cts.trace_uuid\n",
        "    FROM product_analytics_staging.fct_can_trace_status cts\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON cts.date = dvp.date\n",
        "        AND cts.org_id = dvp.org_id\n",
        "        AND cts.device_id = dvp.device_id\n",
        "    LATERAL VIEW explode(cts.tag_names) tag_table AS exploded_tag\n",
        "    WHERE dvp.mmyef_id IS NOT NULL\n",
        "      AND cts.tag_names IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Aggregate trace counts per tag per MMYEF (all-time)\n",
        "mmyef_tag_counts AS (\n",
        "    SELECT\n",
        "        mmyef_id,\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT trace_uuid) AS tag_count\n",
        "    FROM traces_with_tags_exploded\n",
        "    GROUP BY mmyef_id, tag_name\n",
        "),\n",
        "\n",
        "-- Aggregate metrics per tag\n",
        "tag_diversity AS (\n",
        "    SELECT\n",
        "        tag_name,\n",
        "        COUNT(DISTINCT mmyef_id) AS mmyefs_with_tag,\n",
        "        SUM(tag_count) AS total_traces,\n",
        "        AVG(tag_count) AS avg_traces_per_mmyef,\n",
        "        PERCENTILE(tag_count, 0.5) AS median_traces_per_mmyef,\n",
        "        MAX(tag_count) AS max_traces_per_mmyef\n",
        "    FROM mmyef_tag_counts\n",
        "    GROUP BY tag_name\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    td.tag_name,\n",
        "    td.mmyefs_with_tag,\n",
        "    tp.total_mmyefs AS total_mmyef_population,\n",
        "    CAST(td.mmyefs_with_tag AS DOUBLE) / NULLIF(CAST(tp.total_mmyefs AS DOUBLE), 0) AS mmyef_coverage_pct,\n",
        "    td.total_traces,\n",
        "    ROUND(td.avg_traces_per_mmyef, 2) AS avg_traces_per_mmyef,\n",
        "    ROUND(td.median_traces_per_mmyef, 2) AS median_traces_per_mmyef,\n",
        "    td.max_traces_per_mmyef\n",
        "FROM tag_diversity td\n",
        "CROSS JOIN total_population tp\n",
        "ORDER BY td.mmyefs_with_tag DESC, td.total_traces DESC\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "b01c4ead",
      "displayName": "queries.quota.quota_fulfillment_by_type",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Quota Status\n",
        "-- View: Quota Fulfillment by Query Type\n",
        "-- =============================================================================\n",
        "-- Visualization: Bar\n",
        "-- Title: Quota Fulfillment by Query Type\n",
        "-- Description: Quota fulfillment rates by query type (all-time cumulative)\n",
        "-- Note: Uses agg_tags_per_mmyef at MAX(date) which contains cumulative counts up to that date (effectively all-time)\n",
        "-- =============================================================================\n",
        "\n",
        "-- Note: agg_tags_per_mmyef stores cumulative counts per date partition.\n",
        "-- MAX(date) partition contains cumulative counts up to that date (effectively all-time).\n",
        "-- Quota defaults: can-set-main-0: 10, others: 0 (no quota tracking)\n",
        "WITH latest_snapshot_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef\n",
        "),\n",
        "\n",
        "-- Explode tag_counts_map to get tag breakdowns\n",
        "mmyef_tags_exploded AS (\n",
        "    SELECT\n",
        "        atpm.mmyef_id,\n",
        "        exploded.tag_name,\n",
        "        exploded.tag_count,\n",
        "        CASE \n",
        "            WHEN exploded.tag_name = 'can-set-main-0' THEN 10\n",
        "            ELSE 0  -- No quota for other tags\n",
        "        END AS quota\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef atpm\n",
        "    CROSS JOIN latest_snapshot_date lsd\n",
        "    LATERAL VIEW explode(atpm.tag_counts_map) exploded AS tag_name, tag_count\n",
        "    WHERE atpm.date = lsd.max_date\n",
        "      AND atpm.tag_counts_map IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Aggregate by tag - count MMYEFs meeting quota per tag\n",
        "tag_aggregates AS (\n",
        "    SELECT\n",
        "        tag_name,\n",
        "        quota,\n",
        "        COUNT(DISTINCT CASE WHEN tag_count >= quota AND quota > 0 THEN mmyef_id END) AS meeting_quota_count,\n",
        "        COUNT(DISTINCT mmyef_id) AS total_mmyefs_with_tag\n",
        "    FROM mmyef_tags_exploded\n",
        "    GROUP BY tag_name, quota\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    tag_name AS query_type,\n",
        "    quota,\n",
        "    COALESCE(meeting_quota_count, 0) AS meeting_quota,\n",
        "    total_mmyefs_with_tag AS total_mmyefs,\n",
        "    CASE \n",
        "        WHEN quota > 0 THEN\n",
        "            CAST(COALESCE(meeting_quota_count, 0) AS DOUBLE) / NULLIF(CAST(total_mmyefs_with_tag AS DOUBLE), 0)\n",
        "        ELSE 0.0\n",
        "    END AS fulfillment_rate\n",
        "FROM tag_aggregates\n",
        "ORDER BY fulfillment_rate DESC, quota DESC\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "150c4cc9",
      "displayName": "queries.tag_performance.tag_performance_detail",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Tag Performance\n",
        "-- View: Tag Performance Detail\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Tag Performance Detail\n",
        "-- Description: Detailed performance metrics per (tag, MMYEF) combination: collected counts, quota status, training needs, and reverse engineering gaps\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get latest snapshot date for agg_tags_per_mmyef\n",
        "latest_snapshot_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef\n",
        "),\n",
        "\n",
        "-- Explode tag_counts_map to get one row per (MMYEF, tag) combination\n",
        "mmyef_tags_exploded AS (\n",
        "    SELECT\n",
        "        atpm.mmyef_id,\n",
        "        atpm.total_collected_count,\n",
        "        exploded.tag_name,\n",
        "        exploded.tag_count AS collected_count,\n",
        "        CASE \n",
        "            WHEN exploded.tag_name = 'can-set-main-0' THEN 10\n",
        "            ELSE 0  -- No quota for other tags\n",
        "        END AS quota\n",
        "    FROM datamodel_dev.agg_tags_per_mmyef atpm\n",
        "    CROSS JOIN latest_snapshot_date lsd\n",
        "    LATERAL VIEW explode(atpm.tag_counts_map) exploded AS tag_name, tag_count\n",
        "    WHERE atpm.date = lsd.max_date\n",
        "      AND atpm.tag_counts_map IS NOT NULL\n",
        "),\n",
        "\n",
        "-- Get vehicle properties with translations\n",
        "vehicle_properties_with_translations AS (\n",
        "    SELECT DISTINCT \n",
        "        dvp2.mmyef_id,\n",
        "        dvp2.make,\n",
        "        dvp2.model,\n",
        "        dvp2.year,\n",
        "        dvp2.engine_model,\n",
        "        dvp2.powertrain AS powertrain_id,\n",
        "        dvp2.fuel_group AS fuel_group_id,\n",
        "        dvp2.trim,\n",
        "        pt.name AS powertrain,\n",
        "        fg.name AS fuel_group\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp2\n",
        "    LEFT JOIN definitions.properties_fuel_powertrain pt ON pt.id = dvp2.powertrain\n",
        "    LEFT JOIN definitions.properties_fuel_fuelgroup fg ON fg.id = dvp2.fuel_group\n",
        "    WHERE dvp2.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        "),\n",
        "\n",
        "-- Training needs: Stream IDs needing more traces (for can-set-training-stream-id-0)\n",
        "training_latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "training_needs_by_mmyef AS (\n",
        "    SELECT\n",
        "        dvp.mmyef_id,\n",
        "        COUNT(DISTINCT ftsi.stream_id) AS stream_ids_needing_traces\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id ftsi\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON ftsi.date = dvp.date\n",
        "        AND ftsi.org_id = dvp.org_id\n",
        "        AND ftsi.device_id = dvp.device_id\n",
        "    WHERE ftsi.date = (SELECT max_date FROM training_latest_date)\n",
        "      AND dvp.mmyef_id IS NOT NULL\n",
        "    GROUP BY dvp.mmyef_id\n",
        "),\n",
        "\n",
        "-- Reverse engineering gaps: Devices with coverage gaps (for training/inference tags)\n",
        "reverse_eng_latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "reverse_eng_gaps_by_mmyef AS (\n",
        "    SELECT\n",
        "        dvp.mmyef_id,\n",
        "        COUNT(DISTINCT CASE WHEN rec.for_training = TRUE THEN STRUCT(rec.org_id, rec.device_id) ELSE NULL END) AS devices_for_training,\n",
        "        COUNT(DISTINCT CASE WHEN rec.for_inference = TRUE THEN STRUCT(rec.org_id, rec.device_id) ELSE NULL END) AS devices_for_inference\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates rec\n",
        "    JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON rec.date = dvp.date\n",
        "        AND rec.org_id = dvp.org_id\n",
        "        AND rec.device_id = dvp.device_id\n",
        "    WHERE rec.date = (SELECT max_date FROM reverse_eng_latest_date)\n",
        "      AND rec.coverage_gap_count > 0\n",
        "      AND dvp.mmyef_id IS NOT NULL\n",
        "    GROUP BY dvp.mmyef_id\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    mte.tag_name,\n",
        "    mte.mmyef_id,\n",
        "    dvp.make,\n",
        "    dvp.model,\n",
        "    dvp.year,\n",
        "    dvp.engine_model,\n",
        "    dvp.powertrain,\n",
        "    dvp.fuel_group,\n",
        "    dvp.trim,\n",
        "    mte.collected_count,\n",
        "    mte.quota,\n",
        "    CASE \n",
        "        WHEN mte.quota > 0 AND mte.collected_count >= mte.quota THEN 'Met Quota'\n",
        "        WHEN mte.quota > 0 AND mte.collected_count >= CAST(mte.quota * 0.7 AS INT) THEN 'Near Quota'\n",
        "        WHEN mte.quota > 0 AND mte.collected_count > 0 THEN 'In Progress'\n",
        "        WHEN mte.quota = 0 THEN 'No Quota'\n",
        "        ELSE 'Not Started'\n",
        "    END AS quota_status,\n",
        "    CAST(mte.collected_count AS DOUBLE) / NULLIF(CAST(mte.quota AS DOUBLE), 0) AS quota_progress,\n",
        "    mte.total_collected_count,\n",
        "    -- Training needs (only for can-set-training-stream-id-0)\n",
        "    CASE \n",
        "        WHEN mte.tag_name = 'can-set-training-stream-id-0' THEN COALESCE(tn.stream_ids_needing_traces, 0)\n",
        "        ELSE NULL\n",
        "    END AS stream_ids_needing_traces,\n",
        "    -- Reverse engineering gaps (only for training/inference tags)\n",
        "    CASE \n",
        "        WHEN mte.tag_name = 'can-set-training-0' THEN COALESCE(reg.devices_for_training, 0)\n",
        "        WHEN mte.tag_name = 'can-set-inference-0' THEN COALESCE(reg.devices_for_inference, 0)\n",
        "        ELSE NULL\n",
        "    END AS reverse_eng_devices_count\n",
        "FROM mmyef_tags_exploded mte\n",
        "LEFT JOIN vehicle_properties_with_translations dvp ON mte.mmyef_id = dvp.mmyef_id\n",
        "LEFT JOIN training_needs_by_mmyef tn ON mte.mmyef_id = tn.mmyef_id AND mte.tag_name = 'can-set-training-stream-id-0'\n",
        "LEFT JOIN reverse_eng_gaps_by_mmyef reg ON mte.mmyef_id = reg.mmyef_id AND mte.tag_name IN ('can-set-training-0', 'can-set-inference-0')\n",
        "ORDER BY mte.tag_name, mte.collected_count ASC, mte.total_collected_count ASC, mte.mmyef_id\n",
        "LIMIT 500\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "cdbfe56e",
      "displayName": "queries.candidates.top_candidates",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Candidates\n",
        "-- View: Top Candidates by Rank\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Top Candidates by Rank\n",
        "-- Description: Highest priority candidates across all query types\n",
        "-- =============================================================================\n",
        "\n",
        "WITH latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_traces_required\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "all_candidates AS (\n",
        "    SELECT \n",
        "        date,\n",
        "        org_id,\n",
        "        device_id,\n",
        "        start_time,\n",
        "        'can-set-main-0' AS query_type,\n",
        "        global_trace_rank AS rank\n",
        "    FROM datamodel_dev.fct_can_trace_representative_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT \n",
        "        date,\n",
        "        org_id,\n",
        "        device_id,\n",
        "        start_time,\n",
        "        'can-set-training-0' AS query_type,\n",
        "        global_trace_rank AS rank\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "      AND for_training = TRUE\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT \n",
        "        date,\n",
        "        org_id,\n",
        "        device_id,\n",
        "        start_time,\n",
        "        'can-set-inference-0' AS query_type,\n",
        "        global_trace_rank AS rank\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "      AND for_inference = TRUE\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT \n",
        "        date,\n",
        "        org_id,\n",
        "        device_id,\n",
        "        start_time,\n",
        "        'can-set-training-stream-id-0' AS query_type,\n",
        "        global_trace_rank AS rank\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT \n",
        "        date,\n",
        "        org_id,\n",
        "        device_id,\n",
        "        start_time,\n",
        "        'can-set-seatbelt-trip-start-0' AS query_type,\n",
        "        global_trace_rank AS rank\n",
        "    FROM datamodel_dev.fct_can_trace_seatbelt_trip_start_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "),\n",
        "\n",
        "-- Join with vehicle properties and definition tables for translations\n",
        "candidates_with_properties AS (\n",
        "    SELECT\n",
        "        ac.query_type,\n",
        "        ac.org_id,\n",
        "        ac.device_id,\n",
        "        ac.start_time,\n",
        "        ac.rank,\n",
        "        dvp.make,\n",
        "        dvp.model,\n",
        "        dvp.year,\n",
        "        dvp.engine_model,\n",
        "        dvp.powertrain AS powertrain_id,\n",
        "        dvp.fuel_group AS fuel_group_id,\n",
        "        dvp.trim,\n",
        "        pt.name AS powertrain,\n",
        "        fg.name AS fuel_group\n",
        "    FROM all_candidates ac\n",
        "    LEFT JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON ac.date = dvp.date\n",
        "        AND ac.org_id = dvp.org_id\n",
        "        AND ac.device_id = dvp.device_id\n",
        "    LEFT JOIN definitions.properties_fuel_powertrain pt ON pt.id = dvp.powertrain\n",
        "    LEFT JOIN definitions.properties_fuel_fuelgroup fg ON fg.id = dvp.fuel_group\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    query_type,\n",
        "    org_id,\n",
        "    device_id,\n",
        "    start_time,\n",
        "    rank,\n",
        "    make,\n",
        "    model,\n",
        "    year,\n",
        "    engine_model,\n",
        "    powertrain,\n",
        "    fuel_group,\n",
        "    trim\n",
        "FROM candidates_with_properties\n",
        "ORDER BY rank ASC\n",
        "LIMIT 100\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "bedeb90d",
      "displayName": "queries.candidates.ranking_distribution",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Candidates\n",
        "-- View: Ranking Distribution\n",
        "-- =============================================================================\n",
        "-- Visualization: Bar\n",
        "-- Title: Ranking Distribution (Top 100 Ranks)\n",
        "-- Description: Distribution of candidates across rank buckets\n",
        "-- =============================================================================\n",
        "\n",
        "WITH latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_traces_required\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "all_ranks AS (\n",
        "    SELECT global_trace_rank\n",
        "    FROM datamodel_dev.fct_can_trace_representative_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT global_trace_rank\n",
        "    FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT global_trace_rank\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        "    \n",
        "    UNION ALL\n",
        "    \n",
        "    SELECT global_trace_rank\n",
        "    FROM datamodel_dev.fct_can_trace_seatbelt_trip_start_candidates\n",
        "    WHERE date = (SELECT max_date FROM latest_date)\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    CASE\n",
        "        WHEN global_trace_rank <= 10 THEN '1-10'\n",
        "        WHEN global_trace_rank <= 25 THEN '11-25'\n",
        "        WHEN global_trace_rank <= 50 THEN '26-50'\n",
        "        WHEN global_trace_rank <= 100 THEN '51-100'\n",
        "        ELSE '100+'\n",
        "    END AS rank_bucket,\n",
        "    COUNT(*) AS candidate_count\n",
        "FROM all_ranks\n",
        "GROUP BY rank_bucket\n",
        "ORDER BY \n",
        "    CASE rank_bucket\n",
        "        WHEN '1-10' THEN 1\n",
        "        WHEN '11-25' THEN 2\n",
        "        WHEN '26-50' THEN 3\n",
        "        WHEN '51-100' THEN 4\n",
        "        ELSE 5\n",
        "    END\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "adf9ecb6",
      "displayName": "queries.candidates.candidate_counts_summary",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Candidates\n",
        "-- View: Candidate Counts Summary\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Candidate Counts by Query Type (Latest Date)\n",
        "-- Description: Summary of candidate counts by query type for the latest date\n",
        "-- =============================================================================\n",
        "\n",
        "WITH latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_traces_required\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    'Representative' AS query_type,\n",
        "    COUNT(*) AS candidate_count\n",
        "FROM datamodel_dev.fct_can_trace_representative_candidates\n",
        "WHERE date = (SELECT max_date FROM latest_date)\n",
        "\n",
        "UNION ALL\n",
        "\n",
        "SELECT\n",
        "    'Training (Reverse Engineering)' AS query_type,\n",
        "    COUNT(*) AS candidate_count\n",
        "FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "WHERE date = (SELECT max_date FROM latest_date)\n",
        "  AND for_training = TRUE\n",
        "\n",
        "UNION ALL\n",
        "\n",
        "SELECT\n",
        "    'Inference (Reverse Engineering)' AS query_type,\n",
        "    COUNT(*) AS candidate_count\n",
        "FROM datamodel_dev.fct_can_trace_reverse_engineering_candidates\n",
        "WHERE date = (SELECT max_date FROM latest_date)\n",
        "  AND for_inference = TRUE\n",
        "\n",
        "UNION ALL\n",
        "\n",
        "SELECT\n",
        "    'Training (Stream ID)' AS query_type,\n",
        "    COUNT(*) AS candidate_count\n",
        "FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "WHERE date = (SELECT max_date FROM latest_date)\n",
        "\n",
        "UNION ALL\n",
        "\n",
        "SELECT\n",
        "    'Seatbelt Trip Start' AS query_type,\n",
        "    COUNT(*) AS candidate_count\n",
        "FROM datamodel_dev.fct_can_trace_seatbelt_trip_start_candidates\n",
        "WHERE date = (SELECT max_date FROM latest_date)\n",
        "\n",
        "ORDER BY candidate_count DESC\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "cf5a7555",
      "displayName": "queries.stream_ids.stream_id_coverage_snapshot",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Stream ID Coverage\n",
        "-- View: Stream ID Coverage Snapshot\n",
        "-- =============================================================================\n",
        "-- Visualization: Counter\n",
        "-- Title: Stream ID Coverage Snapshot\n",
        "-- Description: Total stream IDs and percentage with sufficient data (>= 200 traces globally per stream_id)\n",
        "-- =============================================================================\n",
        "\n",
        "-- Note: agg_mmyef_stream_ids stores cumulative counts per date partition.\n",
        "-- MAX(date) partition contains cumulative counts up to that date (effectively all-time).\n",
        "-- Each row represents (date, mmyef_id, stream_id, obd_value), so we need to aggregate\n",
        "-- trace_count globally per stream_id to determine if a stream_id has sufficient data.\n",
        "WITH latest_snapshot_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.agg_mmyef_stream_ids\n",
        "),\n",
        "\n",
        "-- Aggregate trace_count globally per stream_id (across all mmyef_id/obd_value combinations)\n",
        "stream_id_totals AS (\n",
        "    SELECT \n",
        "        amsi.stream_id,\n",
        "        SUM(amsi.trace_count) AS total_trace_count\n",
        "    FROM datamodel_dev.agg_mmyef_stream_ids amsi\n",
        "    CROSS JOIN latest_snapshot_date lsd\n",
        "    WHERE amsi.date = lsd.max_date\n",
        "    GROUP BY amsi.stream_id\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    COUNT(DISTINCT stream_id) AS total_stream_ids,\n",
        "    COUNT(DISTINCT CASE WHEN total_trace_count < 200 THEN stream_id END) AS underrepresented_stream_ids,\n",
        "    CAST(COUNT(DISTINCT CASE WHEN total_trace_count >= 200 THEN stream_id END) AS DOUBLE) / \n",
        "        NULLIF(CAST(COUNT(DISTINCT stream_id) AS DOUBLE), 0) AS percent_sufficient\n",
        "FROM stream_id_totals\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "dd126006",
      "displayName": "queries.stream_ids.stream_id_coverage_table",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Stream ID Coverage\n",
        "-- View: Stream ID Coverage Table\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Stream ID Coverage by MMYEF\n",
        "-- Description: Stream ID coverage statistics by MMYEF (all-time cumulative from latest snapshot)\n",
        "-- =============================================================================\n",
        "\n",
        "-- Note: agg_mmyef_stream_ids stores cumulative counts per date partition.\n",
        "-- MAX(date) partition contains cumulative counts up to that date (effectively all-time).\n",
        "WITH latest_snapshot_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.agg_mmyef_stream_ids\n",
        "),\n",
        "\n",
        "-- Get vehicle properties with translations\n",
        "vehicle_properties_with_translations AS (\n",
        "    SELECT DISTINCT \n",
        "        dvp2.mmyef_id,\n",
        "        dvp2.make,\n",
        "        dvp2.model,\n",
        "        dvp2.year,\n",
        "        dvp2.engine_model,\n",
        "        dvp2.powertrain AS powertrain_id,\n",
        "        dvp2.fuel_group AS fuel_group_id,\n",
        "        dvp2.trim,\n",
        "        pt.name AS powertrain,\n",
        "        fg.name AS fuel_group\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp2\n",
        "    LEFT JOIN definitions.properties_fuel_powertrain pt ON pt.id = dvp2.powertrain\n",
        "    LEFT JOIN definitions.properties_fuel_fuelgroup fg ON fg.id = dvp2.fuel_group\n",
        "    WHERE dvp2.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    amsi.mmyef_id,\n",
        "    dvp.make,\n",
        "    dvp.model,\n",
        "    dvp.year,\n",
        "    dvp.engine_model,\n",
        "    dvp.powertrain,\n",
        "    dvp.fuel_group,\n",
        "    dvp.trim,\n",
        "    amsi.stream_id,\n",
        "    amsi.obd_value,\n",
        "    obd.name AS obd_value_name,\n",
        "    amsi.trace_count,\n",
        "    amsi.first_seen_date,\n",
        "    amsi.last_seen_date\n",
        "FROM datamodel_dev.agg_mmyef_stream_ids amsi\n",
        "CROSS JOIN latest_snapshot_date lsd\n",
        "LEFT JOIN vehicle_properties_with_translations dvp ON amsi.mmyef_id = dvp.mmyef_id\n",
        "LEFT JOIN definitions.obd_values obd ON amsi.obd_value = obd.id\n",
        "WHERE amsi.date = lsd.max_date\n",
        "ORDER BY amsi.trace_count ASC, amsi.mmyef_id, amsi.stream_id\n",
        "LIMIT 100\n",
        "\n"
      ],
      "parameters": []
    },
    {
      "name": "96ff5feb",
      "displayName": "queries.stream_ids.training_candidates_by_stream_id",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: By Tag + Stream\n",
        "-- View: Training Candidates by Stream ID\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Training Candidates by Stream ID\n",
        "-- Description: Training candidates grouped by stream ID for underrepresented signals\n",
        "-- Note: Shows candidates when table has data. Table may be empty if all stream_ids have sufficient coverage.\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get latest date for training candidates (handle empty table case)\n",
        "training_latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    ftsi.stream_id,\n",
        "    ftsi.obd_value,\n",
        "    obd.name AS obd_value_name,\n",
        "    COUNT(*) AS candidate_count,\n",
        "    MIN(ftsi.global_trace_rank) AS best_rank,\n",
        "    MAX(ftsi.global_trace_rank) AS worst_rank,\n",
        "    COUNT(DISTINCT dvp.mmyef_id) AS mmyef_count\n",
        "FROM datamodel_dev.fct_can_trace_training_by_stream_id ftsi\n",
        "LEFT JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "    ON ftsi.date = dvp.date\n",
        "    AND ftsi.org_id = dvp.org_id\n",
        "    AND ftsi.device_id = dvp.device_id\n",
        "LEFT JOIN definitions.obd_values obd ON ftsi.obd_value = obd.id\n",
        "CROSS JOIN training_latest_date tld\n",
        "WHERE ftsi.date = tld.max_date\n",
        "  AND tld.max_date IS NOT NULL\n",
        "GROUP BY ftsi.stream_id, ftsi.obd_value, obd.name\n",
        "ORDER BY candidate_count DESC, best_rank ASC\n",
        "LIMIT 50\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "1d26d27a",
      "displayName": "queries.tag_performance.training_needs_by_tag",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: By Tag\n",
        "-- View: Training Needs by Tag (Stream IDs)\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Training Needs by Tag (Stream IDs)\n",
        "-- Description: Stream IDs/OBD values needing more traces for training, grouped by tag\n",
        "-- Note: Training needs are specific to can-set-training-stream-id-0 tag. \n",
        "-- Table may be empty if all stream_ids have sufficient coverage.\n",
        "-- =============================================================================\n",
        "\n",
        "WITH\n",
        "-- Get latest date for training candidates (handle empty table case)\n",
        "training_latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "-- Aggregate training candidates by stream_id and obd_value\n",
        "training_candidates_agg AS (\n",
        "    SELECT\n",
        "        ftsi.stream_id,\n",
        "        ftsi.obd_value,\n",
        "        obd.name AS obd_value_name,\n",
        "        COUNT(*) AS candidate_count,\n",
        "        MIN(ftsi.global_trace_rank) AS best_rank,\n",
        "        MAX(ftsi.global_trace_rank) AS worst_rank,\n",
        "        COUNT(DISTINCT dvp.mmyef_id) AS mmyef_count\n",
        "    FROM datamodel_dev.fct_can_trace_training_by_stream_id ftsi\n",
        "    LEFT JOIN product_analytics_staging.dim_device_vehicle_properties dvp\n",
        "        ON ftsi.date = dvp.date\n",
        "        AND ftsi.org_id = dvp.org_id\n",
        "        AND ftsi.device_id = dvp.device_id\n",
        "    LEFT JOIN definitions.obd_values obd ON ftsi.obd_value = obd.id\n",
        "    CROSS JOIN training_latest_date tld\n",
        "    WHERE ftsi.date = tld.max_date\n",
        "      AND tld.max_date IS NOT NULL\n",
        "    GROUP BY ftsi.stream_id, ftsi.obd_value, obd.name\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    'can-set-training-stream-id-0' AS tag_name,\n",
        "    stream_id,\n",
        "    obd_value,\n",
        "    obd_value_name,\n",
        "    candidate_count,\n",
        "    best_rank,\n",
        "    worst_rank,\n",
        "    mmyef_count\n",
        "FROM training_candidates_agg\n",
        "ORDER BY candidate_count DESC, best_rank ASC\n",
        "LIMIT 100\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    },
    {
      "name": "122b47d4",
      "displayName": "queries.prioritized.latest_prioritized_traces",
      "queryLines": [
        "-- =============================================================================\n",
        "-- Dashboard: CAN Trace Collection Dashboard\n",
        "-- Tab: Prioritized Traces\n",
        "-- View: Latest Prioritized Traces\n",
        "-- =============================================================================\n",
        "-- Visualization: Table\n",
        "-- Title: Latest Prioritized Traces\n",
        "-- Description: Most recent required traces prioritized by device_day_rank (1 = highest priority)\n",
        "-- Shows traces from fct_can_traces_required, which contains the final prioritized list\n",
        "-- =============================================================================\n",
        "\n",
        "WITH latest_date AS (\n",
        "    SELECT MAX(date) AS max_date\n",
        "    FROM datamodel_dev.fct_can_traces_required\n",
        "    WHERE date BETWEEN :date.min AND :date.max\n",
        "),\n",
        "\n",
        "-- Get vehicle properties with translations\n",
        "vehicle_properties_with_translations AS (\n",
        "    SELECT DISTINCT \n",
        "        dvp2.mmyef_id,\n",
        "        dvp2.make,\n",
        "        dvp2.model,\n",
        "        dvp2.year,\n",
        "        dvp2.engine_model,\n",
        "        dvp2.powertrain AS powertrain_id,\n",
        "        dvp2.fuel_group AS fuel_group_id,\n",
        "        dvp2.trim,\n",
        "        pt.name AS powertrain,\n",
        "        fg.name AS fuel_group\n",
        "    FROM product_analytics_staging.dim_device_vehicle_properties dvp2\n",
        "    LEFT JOIN definitions.properties_fuel_powertrain pt ON pt.id = dvp2.powertrain\n",
        "    LEFT JOIN definitions.properties_fuel_fuelgroup fg ON fg.id = dvp2.fuel_group\n",
        "    WHERE dvp2.date = (SELECT MAX(date) FROM product_analytics_staging.dim_device_vehicle_properties)\n",
        ")\n",
        "\n",
        "SELECT\n",
        "    fctr.date,\n",
        "    fctr.org_id,\n",
        "    fctr.device_id,\n",
        "    dvp.make,\n",
        "    dvp.model,\n",
        "    dvp.year,\n",
        "    dvp.engine_model,\n",
        "    dvp.powertrain,\n",
        "    dvp.fuel_group,\n",
        "    dvp.trim,\n",
        "    fctr.start_time,\n",
        "    fctr.end_time,\n",
        "    fctr.device_day_rank,\n",
        "    fctr.tags,\n",
        "    SIZE(fctr.tags) AS tag_count\n",
        "FROM datamodel_dev.fct_can_traces_required fctr\n",
        "LEFT JOIN product_analytics_staging.dim_device_vehicle_properties dvp_props\n",
        "    ON fctr.date = dvp_props.date\n",
        "    AND fctr.org_id = dvp_props.org_id\n",
        "    AND fctr.device_id = dvp_props.device_id\n",
        "LEFT JOIN vehicle_properties_with_translations dvp ON dvp_props.mmyef_id = dvp.mmyef_id\n",
        "CROSS JOIN latest_date ld\n",
        "WHERE fctr.date = ld.max_date\n",
        "ORDER BY fctr.date DESC, fctr.device_day_rank ASC\n",
        "LIMIT 1000\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "date",
          "keyword": "date",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "now-90d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        }
      ]
    }
  ],
  "pages": [
    {
      "name": "34b0d93f",
      "displayName": "Overview",
      "layout": [
        {
          "widget": {
            "name": "df57fb8b",
            "multilineTextboxSpec": {
              "lines": [
                "## Overview\n",
                "\n",
                "High-level KPIs showing overall progress and last 90 days trends. All-time and quarter metrics are fixed snapshots (not affected by date filter).\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "7a0c340d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_candidates",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total Candidates Generated",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "a8c8ab8e",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_collected",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total Traces Collected",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "90f3ab82",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "active_mmyefs",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Active MMYEFs",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "204c59ed",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "mmyefs_with_traces",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "MMYEFs with Traces",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "59ec650e",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "unique_devices",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Unique Devices",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "9565131f",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "quota_fulfillment_rate",
                  "rowNumber": 1,
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "MMYEF Diversity Coverage",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "d00fc8df",
            "multilineTextboxSpec": {
              "lines": [
                "## Last 90 Days\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "00102b1a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_candidates_quarter",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total Candidates Generated",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 5,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "52450774",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_collected_quarter",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total Traces Collected",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 5,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "1abecfa7",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "active_mmyefs_quarter",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Active MMYEFs",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 5,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "e242cd82",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "mmyefs_with_traces_quarter",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "MMYEFs with Traces",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 5,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "4f9edb29",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "unique_devices_quarter",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Unique Devices",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 5,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "3fcd18ca",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d2e28960",
                  "fields": [
                    {
                      "name": "total_candidates",
                      "expression": "`total_candidates`"
                    },
                    {
                      "name": "total_collected",
                      "expression": "`total_collected`"
                    },
                    {
                      "name": "active_mmyefs",
                      "expression": "`active_mmyefs`"
                    },
                    {
                      "name": "mmyefs_with_traces",
                      "expression": "`mmyefs_with_traces`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "total_candidates_quarter",
                      "expression": "`total_candidates_quarter`"
                    },
                    {
                      "name": "total_collected_quarter",
                      "expression": "`total_collected_quarter`"
                    },
                    {
                      "name": "active_mmyefs_quarter",
                      "expression": "`active_mmyefs_quarter`"
                    },
                    {
                      "name": "mmyefs_with_traces_quarter",
                      "expression": "`mmyefs_with_traces_quarter`"
                    },
                    {
                      "name": "unique_devices_quarter",
                      "expression": "`unique_devices_quarter`"
                    },
                    {
                      "name": "quota_fulfillment_rate_quarter",
                      "expression": "`quota_fulfillment_rate_quarter`"
                    },
                    {
                      "name": "fiscal_year",
                      "expression": "`fiscal_year`"
                    },
                    {
                      "name": "fiscal_quarter_num",
                      "expression": "`fiscal_quarter_num`"
                    },
                    {
                      "name": "quarter_label",
                      "expression": "`quarter_label`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "quota_fulfillment_rate_quarter",
                  "rowNumber": 1,
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "MMYEF Diversity Coverage",
                "showDescription": true,
                "description": "High-level KPIs for CAN trace collection pipeline (all-time and current fiscal quarter)"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 5,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "849301bf",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "8894d4db",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "candidates_generated",
                      "expression": "`candidates_generated`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "candidates_generated",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Candidates"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Candidates Generated Over Time (Last 90 Days)",
                "showDescription": true,
                "description": "Daily candidates generated for the last 90 days (high volume, random sampling)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 7,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "ed626bb0",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "5a0c223b",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "traces_collected",
                      "expression": "`traces_collected`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "traces_collected",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Traces"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Traces Collected Over Time (Last 90 Days)",
                "showDescription": true,
                "description": "Daily traces collected/uploaded to library for the last 90 days (low volume, uploaded traces)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 12,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "3445b3b3",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "2abd46d1",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "query_type",
                      "expression": "`query_type`"
                    },
                    {
                      "name": "candidate_count",
                      "expression": "`candidate_count`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "candidate_count",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Candidates"
                  },
                  "stackType": "stacked"
                },
                "color": {
                  "fieldName": "query_type",
                  "scale": {
                    "type": "categorical"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Candidates by Query Type (Last 90 Days)",
                "showDescription": true,
                "description": "Daily candidate counts by query type for the last 90 days"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 17,
            "width": 6,
            "height": 5
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "961c577a",
      "displayName": "By Population",
      "layout": [
        {
          "widget": {
            "name": "73a214e8",
            "multilineTextboxSpec": {
              "lines": [
                "## By Population\n",
                "\n",
                "General population coverage metrics (MMYEF and Device coverage, collection distribution, diversity). No tag breakdown - this is overall population health.\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "f87eeda1",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "629c0bf6",
                  "fields": [
                    {
                      "name": "unique_mmyefs",
                      "expression": "`unique_mmyefs`"
                    },
                    {
                      "name": "total_mmyefs",
                      "expression": "`total_mmyefs`"
                    },
                    {
                      "name": "mmyef_coverage_pct",
                      "expression": "`mmyef_coverage_pct`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "total_devices",
                      "expression": "`total_devices`"
                    },
                    {
                      "name": "device_coverage_pct",
                      "expression": "`device_coverage_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "unique_mmyefs",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Unique MMYEFs with Traces",
                "showDescription": true,
                "description": "Unique MMYEFs and devices with collected traces (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "8dca6ef1",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "629c0bf6",
                  "fields": [
                    {
                      "name": "unique_mmyefs",
                      "expression": "`unique_mmyefs`"
                    },
                    {
                      "name": "total_mmyefs",
                      "expression": "`total_mmyefs`"
                    },
                    {
                      "name": "mmyef_coverage_pct",
                      "expression": "`mmyef_coverage_pct`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "total_devices",
                      "expression": "`total_devices`"
                    },
                    {
                      "name": "device_coverage_pct",
                      "expression": "`device_coverage_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "unique_devices",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Unique Devices with Traces",
                "showDescription": true,
                "description": "Unique MMYEFs and devices with collected traces (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "ff581a69",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "629c0bf6",
                  "fields": [
                    {
                      "name": "unique_mmyefs",
                      "expression": "`unique_mmyefs`"
                    },
                    {
                      "name": "total_mmyefs",
                      "expression": "`total_mmyefs`"
                    },
                    {
                      "name": "mmyef_coverage_pct",
                      "expression": "`mmyef_coverage_pct`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "total_devices",
                      "expression": "`total_devices`"
                    },
                    {
                      "name": "device_coverage_pct",
                      "expression": "`device_coverage_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "mmyef_coverage_pct",
                  "rowNumber": 1,
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "MMYEF Coverage %",
                "showDescription": true,
                "description": "Unique MMYEFs and devices with collected traces (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "87ae07e4",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "629c0bf6",
                  "fields": [
                    {
                      "name": "unique_mmyefs",
                      "expression": "`unique_mmyefs`"
                    },
                    {
                      "name": "total_mmyefs",
                      "expression": "`total_mmyefs`"
                    },
                    {
                      "name": "mmyef_coverage_pct",
                      "expression": "`mmyef_coverage_pct`"
                    },
                    {
                      "name": "unique_devices",
                      "expression": "`unique_devices`"
                    },
                    {
                      "name": "total_devices",
                      "expression": "`total_devices`"
                    },
                    {
                      "name": "device_coverage_pct",
                      "expression": "`device_coverage_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "device_coverage_pct",
                  "rowNumber": 1,
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Device Coverage %",
                "showDescription": true,
                "description": "Unique MMYEFs and devices with collected traces (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "83ded966",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "c99b3299",
                  "fields": [
                    {
                      "name": "trace_count_bucket",
                      "expression": "`trace_count_bucket`"
                    },
                    {
                      "name": "mmyef_count",
                      "expression": "`mmyef_count`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "trace_count_bucket",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "labelAngle": 45
                  }
                },
                "y": {
                  "fieldName": "mmyef_count",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "MMYEF Count"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Collection Distribution (Traces per MMYEF)",
                "showDescription": true,
                "description": "Histogram of MMYEFs by trace count buckets (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "f5b948dc",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "99d33e19",
                  "fields": [
                    {
                      "name": "mmyef_id",
                      "expression": "`mmyef_id`"
                    },
                    {
                      "name": "make",
                      "expression": "`make`"
                    },
                    {
                      "name": "model",
                      "expression": "`model`"
                    },
                    {
                      "name": "year",
                      "expression": "`year`"
                    },
                    {
                      "name": "engine_model",
                      "expression": "`engine_model`"
                    },
                    {
                      "name": "powertrain",
                      "expression": "`powertrain`"
                    },
                    {
                      "name": "fuel_group",
                      "expression": "`fuel_group`"
                    },
                    {
                      "name": "trim",
                      "expression": "`trim`"
                    },
                    {
                      "name": "total_collected_count",
                      "expression": "`total_collected_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "mmyef_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "mmyef_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "make",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "make",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "year",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "year",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "engine_model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "engine_model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "powertrain",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "powertrain",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "fuel_group",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "fuel_group",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trim",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "trim",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_collected_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100008,
                    "title": "total_collected_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Top MMYEFs by Collection Count",
                "showDescription": true,
                "description": "MMYEFs with the most collected traces (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "f854bb7b",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "35f80561",
                  "fields": [
                    {
                      "name": "mmyef_id",
                      "expression": "`mmyef_id`"
                    },
                    {
                      "name": "make",
                      "expression": "`make`"
                    },
                    {
                      "name": "model",
                      "expression": "`model`"
                    },
                    {
                      "name": "year",
                      "expression": "`year`"
                    },
                    {
                      "name": "engine_model",
                      "expression": "`engine_model`"
                    },
                    {
                      "name": "powertrain",
                      "expression": "`powertrain`"
                    },
                    {
                      "name": "fuel_group",
                      "expression": "`fuel_group`"
                    },
                    {
                      "name": "trim",
                      "expression": "`trim`"
                    },
                    {
                      "name": "total_collected_count",
                      "expression": "`total_collected_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "mmyef_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "mmyef_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "make",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "make",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "year",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "year",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "engine_model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "engine_model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "powertrain",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "powertrain",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "fuel_group",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "fuel_group",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trim",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "trim",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_collected_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100008,
                    "title": "total_collected_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Underrepresented MMYEFs (0 Traces)",
                "showDescription": true,
                "description": "MMYEFs with no collected traces (all-time cumulative) - prioritize for collection"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 10,
            "width": 3,
            "height": 6
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "7071e400",
      "displayName": "By Tag",
      "layout": [
        {
          "widget": {
            "name": "7d6883fe",
            "multilineTextboxSpec": {
              "lines": [
                "## By Tag\n",
                "\n",
                "Tag-focused collection metrics with device and MMYEF coverage per tag. Shows coverage trends, candidates generated, quota fulfillment, and performance summaries.\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "f2ea2736",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "c04cbb4a",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "coverage_pct",
                      "expression": "`coverage_pct`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "coverage_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  },
                  "axis": {
                    "title": "Coverage %"
                  }
                },
                "color": {
                  "fieldName": "tag_name",
                  "scale": {
                    "type": "categorical"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Device Coverage % by Tag Over Time",
                "showDescription": true,
                "description": "Percentage of device population covered by each tag over time (cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "b9b48cbe",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "205cb26b",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "coverage_pct",
                      "expression": "`coverage_pct`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "coverage_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  },
                  "axis": {
                    "title": "Coverage %"
                  }
                },
                "color": {
                  "fieldName": "tag_name",
                  "scale": {
                    "type": "categorical"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "MMYEF Coverage % by Tag Over Time",
                "showDescription": true,
                "description": "Percentage of MMYEF population covered by each tag over time (cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 7,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "4ad87590",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "5a9b401c",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "query_type",
                      "expression": "`query_type`"
                    },
                    {
                      "name": "candidate_count",
                      "expression": "`candidate_count`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "candidate_count",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Candidates"
                  }
                },
                "color": {
                  "fieldName": "query_type",
                  "scale": {
                    "type": "categorical"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Candidates Generated by Tag Over Time",
                "showDescription": true,
                "description": "Daily candidate counts broken down by query type"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 12,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "81451727",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "ff0b99a9",
                  "fields": [
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "mmyefs_with_tag",
                      "expression": "`mmyefs_with_tag`"
                    },
                    {
                      "name": "total_mmyef_population",
                      "expression": "`total_mmyef_population`"
                    },
                    {
                      "name": "mmyef_coverage_pct",
                      "expression": "`mmyef_coverage_pct`"
                    },
                    {
                      "name": "total_traces",
                      "expression": "`total_traces`"
                    },
                    {
                      "name": "quota",
                      "expression": "`quota`"
                    },
                    {
                      "name": "mmyefs_meeting_quota",
                      "expression": "`mmyefs_meeting_quota`"
                    },
                    {
                      "name": "total_mmyefs_with_quota",
                      "expression": "`total_mmyefs_with_quota`"
                    },
                    {
                      "name": "quota_fulfillment_rate",
                      "expression": "`quota_fulfillment_rate`"
                    },
                    {
                      "name": "stream_ids_needing_traces",
                      "expression": "`stream_ids_needing_traces`"
                    },
                    {
                      "name": "reverse_eng_devices_count",
                      "expression": "`reverse_eng_devices_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "tag_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "tag_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyefs_with_tag",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "mmyefs_with_tag",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_mmyef_population",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "total_mmyef_population",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyef_coverage_pct",
                    "numberFormat": "0.00%",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "mmyef_coverage_pct",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "scalePercentBy100": true
                  },
                  {
                    "fieldName": "total_traces",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "total_traces",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "quota",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "quota",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyefs_meeting_quota",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "mmyefs_meeting_quota",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_mmyefs_with_quota",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100007,
                    "title": "total_mmyefs_with_quota",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "quota_fulfillment_rate",
                    "numberFormat": "0.00%",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100008,
                    "title": "quota_fulfillment_rate",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "scalePercentBy100": true
                  },
                  {
                    "fieldName": "stream_ids_needing_traces",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100009,
                    "title": "stream_ids_needing_traces",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "reverse_eng_devices_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100010,
                    "title": "reverse_eng_devices_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 20,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Tag Performance Summary",
                "showDescription": true,
                "description": "High-level performance metrics per tag: MMYEF coverage, quota fulfillment, training needs, and reverse engineering gaps"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 17,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "47d24caf",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "3e2d246a",
                  "fields": [
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "devices_with_tag",
                      "expression": "`devices_with_tag`"
                    },
                    {
                      "name": "total_device_population",
                      "expression": "`total_device_population`"
                    },
                    {
                      "name": "device_coverage_pct",
                      "expression": "`device_coverage_pct`"
                    },
                    {
                      "name": "total_traces",
                      "expression": "`total_traces`"
                    },
                    {
                      "name": "avg_traces_per_device",
                      "expression": "`avg_traces_per_device`"
                    },
                    {
                      "name": "median_traces_per_device",
                      "expression": "`median_traces_per_device`"
                    },
                    {
                      "name": "max_traces_per_device",
                      "expression": "`max_traces_per_device`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "tag_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "tag_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "devices_with_tag",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "devices_with_tag",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_device_population",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "total_device_population",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "device_coverage_pct",
                    "numberFormat": "0.00%",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "device_coverage_pct",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "scalePercentBy100": true
                  },
                  {
                    "fieldName": "total_traces",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "total_traces",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "avg_traces_per_device",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100005,
                    "title": "avg_traces_per_device",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "median_traces_per_device",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "median_traces_per_device",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "max_traces_per_device",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "max_traces_per_device",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 10,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Device Diversity Per Tag",
                "showDescription": true,
                "description": "Device coverage and diversity metrics for each trace collection tag (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 23,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "72759034",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "10878dac",
                  "fields": [
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "mmyefs_with_tag",
                      "expression": "`mmyefs_with_tag`"
                    },
                    {
                      "name": "total_mmyef_population",
                      "expression": "`total_mmyef_population`"
                    },
                    {
                      "name": "mmyef_coverage_pct",
                      "expression": "`mmyef_coverage_pct`"
                    },
                    {
                      "name": "total_traces",
                      "expression": "`total_traces`"
                    },
                    {
                      "name": "avg_traces_per_mmyef",
                      "expression": "`avg_traces_per_mmyef`"
                    },
                    {
                      "name": "median_traces_per_mmyef",
                      "expression": "`median_traces_per_mmyef`"
                    },
                    {
                      "name": "max_traces_per_mmyef",
                      "expression": "`max_traces_per_mmyef`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "tag_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "tag_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyefs_with_tag",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "mmyefs_with_tag",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_mmyef_population",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "total_mmyef_population",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyef_coverage_pct",
                    "numberFormat": "0.00%",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "mmyef_coverage_pct",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "scalePercentBy100": true
                  },
                  {
                    "fieldName": "total_traces",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "total_traces",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "avg_traces_per_mmyef",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100005,
                    "title": "avg_traces_per_mmyef",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "median_traces_per_mmyef",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "median_traces_per_mmyef",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "max_traces_per_mmyef",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "max_traces_per_mmyef",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 10,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "MMYEF Diversity Per Tag",
                "showDescription": true,
                "description": "MMYEF coverage and diversity metrics for each trace collection tag (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 23,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "328cd6b8",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "b01c4ead",
                  "fields": [
                    {
                      "name": "query_type",
                      "expression": "`query_type`"
                    },
                    {
                      "name": "quota",
                      "expression": "`quota`"
                    },
                    {
                      "name": "meeting_quota",
                      "expression": "`meeting_quota`"
                    },
                    {
                      "name": "total_mmyefs",
                      "expression": "`total_mmyefs`"
                    },
                    {
                      "name": "fulfillment_rate",
                      "expression": "`fulfillment_rate`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "query_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "labelAngle": 45
                  }
                },
                "y": {
                  "fieldName": "fulfillment_rate",
                  "scale": {
                    "type": "quantitative"
                  },
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  },
                  "axis": {
                    "title": "Fulfillment Rate"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Quota Fulfillment by Tag",
                "showDescription": true,
                "description": "Quota fulfillment rates by query type (all-time cumulative)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 29,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "95e09e77",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "150c4cc9",
                  "fields": [
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "mmyef_id",
                      "expression": "`mmyef_id`"
                    },
                    {
                      "name": "make",
                      "expression": "`make`"
                    },
                    {
                      "name": "model",
                      "expression": "`model`"
                    },
                    {
                      "name": "year",
                      "expression": "`year`"
                    },
                    {
                      "name": "engine_model",
                      "expression": "`engine_model`"
                    },
                    {
                      "name": "powertrain",
                      "expression": "`powertrain`"
                    },
                    {
                      "name": "fuel_group",
                      "expression": "`fuel_group`"
                    },
                    {
                      "name": "trim",
                      "expression": "`trim`"
                    },
                    {
                      "name": "collected_count",
                      "expression": "`collected_count`"
                    },
                    {
                      "name": "quota",
                      "expression": "`quota`"
                    },
                    {
                      "name": "quota_status",
                      "expression": "`quota_status`"
                    },
                    {
                      "name": "quota_progress",
                      "expression": "`quota_progress`"
                    },
                    {
                      "name": "total_collected_count",
                      "expression": "`total_collected_count`"
                    },
                    {
                      "name": "stream_ids_needing_traces",
                      "expression": "`stream_ids_needing_traces`"
                    },
                    {
                      "name": "reverse_eng_devices_count",
                      "expression": "`reverse_eng_devices_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "tag_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "tag_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyef_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "mmyef_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "make",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "make",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "year",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "year",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "engine_model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "engine_model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "powertrain",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "powertrain",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "fuel_group",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "fuel_group",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trim",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100008,
                    "title": "trim",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "collected_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100009,
                    "title": "collected_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "quota",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100010,
                    "title": "quota",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "quota_status",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100011,
                    "title": "quota_status",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "quota_progress",
                    "numberFormat": "0.0%",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100012,
                    "title": "quota_progress",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "scalePercentBy100": true
                  },
                  {
                    "fieldName": "total_collected_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100013,
                    "title": "total_collected_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "stream_ids_needing_traces",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100014,
                    "title": "stream_ids_needing_traces",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "reverse_eng_devices_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100015,
                    "title": "reverse_eng_devices_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 100,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Tag Performance Detail (by MMYEF)",
                "showDescription": true,
                "description": "Detailed performance metrics per (tag, MMYEF) combination: collected counts, quota status, training needs, and reverse engineering gaps"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 34,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "0f3b47e8",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cdbfe56e",
                  "fields": [
                    {
                      "name": "query_type",
                      "expression": "`query_type`"
                    },
                    {
                      "name": "org_id",
                      "expression": "`org_id`"
                    },
                    {
                      "name": "device_id",
                      "expression": "`device_id`"
                    },
                    {
                      "name": "start_time",
                      "expression": "`start_time`"
                    },
                    {
                      "name": "rank",
                      "expression": "`rank`"
                    },
                    {
                      "name": "make",
                      "expression": "`make`"
                    },
                    {
                      "name": "model",
                      "expression": "`model`"
                    },
                    {
                      "name": "year",
                      "expression": "`year`"
                    },
                    {
                      "name": "engine_model",
                      "expression": "`engine_model`"
                    },
                    {
                      "name": "powertrain",
                      "expression": "`powertrain`"
                    },
                    {
                      "name": "fuel_group",
                      "expression": "`fuel_group`"
                    },
                    {
                      "name": "trim",
                      "expression": "`trim`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "query_type",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "query_type",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "org_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "org_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "device_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "device_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "start_time",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100003,
                    "title": "start_time",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "dateTimeFormat": "YYYY-MM-DD"
                  },
                  {
                    "fieldName": "rank",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "rank",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "make",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "make",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "year",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "year",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "engine_model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100008,
                    "title": "engine_model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "powertrain",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100009,
                    "title": "powertrain",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "fuel_group",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100010,
                    "title": "fuel_group",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trim",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100011,
                    "title": "trim",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Top Candidates by Rank",
                "showDescription": true,
                "description": "Highest priority candidates across all query types"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 42,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "6eb6aa10",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "bedeb90d",
                  "fields": [
                    {
                      "name": "rank_bucket",
                      "expression": "`rank_bucket`"
                    },
                    {
                      "name": "candidate_count",
                      "expression": "`candidate_count`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "rank_bucket",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "labelAngle": 45
                  }
                },
                "y": {
                  "fieldName": "candidate_count",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Candidates"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Ranking Distribution (Top 100 Ranks)",
                "showDescription": true,
                "description": "Distribution of candidates across rank buckets"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 48,
            "width": 3,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "89fa0c6d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "adf9ecb6",
                  "fields": [
                    {
                      "name": "query_type",
                      "expression": "`query_type`"
                    },
                    {
                      "name": "candidate_count",
                      "expression": "`candidate_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "query_type",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "query_type",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "candidate_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100001,
                    "title": "candidate_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 10,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Candidate Counts by Query Type (Latest Date)",
                "showDescription": true,
                "description": "Summary of candidate counts by query type for the latest date"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 48,
            "width": 3,
            "height": 5
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "98126174",
      "displayName": "By Tag + Stream",
      "layout": [
        {
          "widget": {
            "name": "508110bf",
            "multilineTextboxSpec": {
              "lines": [
                "## By Tag + Stream\n",
                "\n",
                "Training-specific stream ID metrics. Stream IDs represent training data needs (tied to OBD values) and show collection progress for specific signal types.\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "308b932d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cf5a7555",
                  "fields": [
                    {
                      "name": "total_stream_ids",
                      "expression": "`total_stream_ids`"
                    },
                    {
                      "name": "underrepresented_stream_ids",
                      "expression": "`underrepresented_stream_ids`"
                    },
                    {
                      "name": "percent_sufficient",
                      "expression": "`percent_sufficient`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_stream_ids",
                  "rowNumber": 1
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Stream ID Coverage Snapshot",
                "showDescription": true,
                "description": "Total stream IDs and percentage with sufficient data (>= 200 traces globally per stream_id)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "4e112e7d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cf5a7555",
                  "fields": [
                    {
                      "name": "total_stream_ids",
                      "expression": "`total_stream_ids`"
                    },
                    {
                      "name": "underrepresented_stream_ids",
                      "expression": "`underrepresented_stream_ids`"
                    },
                    {
                      "name": "percent_sufficient",
                      "expression": "`percent_sufficient`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "percent_sufficient",
                  "rowNumber": 1,
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Stream IDs with Sufficient Data",
                "showDescription": true,
                "description": "Total stream IDs and percentage with sufficient data (>= 200 traces globally per stream_id)"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "7e47ada1",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "dd126006",
                  "fields": [
                    {
                      "name": "mmyef_id",
                      "expression": "`mmyef_id`"
                    },
                    {
                      "name": "make",
                      "expression": "`make`"
                    },
                    {
                      "name": "model",
                      "expression": "`model`"
                    },
                    {
                      "name": "year",
                      "expression": "`year`"
                    },
                    {
                      "name": "engine_model",
                      "expression": "`engine_model`"
                    },
                    {
                      "name": "powertrain",
                      "expression": "`powertrain`"
                    },
                    {
                      "name": "fuel_group",
                      "expression": "`fuel_group`"
                    },
                    {
                      "name": "trim",
                      "expression": "`trim`"
                    },
                    {
                      "name": "stream_id",
                      "expression": "`stream_id`"
                    },
                    {
                      "name": "obd_value",
                      "expression": "`obd_value`"
                    },
                    {
                      "name": "obd_value_name",
                      "expression": "`obd_value_name`"
                    },
                    {
                      "name": "trace_count",
                      "expression": "`trace_count`"
                    },
                    {
                      "name": "first_seen_date",
                      "expression": "`first_seen_date`"
                    },
                    {
                      "name": "last_seen_date",
                      "expression": "`last_seen_date`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "mmyef_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "mmyef_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "make",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "make",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "year",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "year",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "engine_model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "engine_model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "powertrain",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "powertrain",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "fuel_group",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "fuel_group",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trim",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "trim",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "stream_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100008,
                    "title": "stream_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "obd_value",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100009,
                    "title": "obd_value",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "obd_value_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100010,
                    "title": "obd_value_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trace_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100011,
                    "title": "trace_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "first_seen_date",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100012,
                    "title": "first_seen_date",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "dateTimeFormat": "YYYY-MM-DD"
                  },
                  {
                    "fieldName": "last_seen_date",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100013,
                    "title": "last_seen_date",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "dateTimeFormat": "YYYY-MM-DD"
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 50,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Stream ID Coverage by MMYEF",
                "showDescription": true,
                "description": "Stream ID coverage statistics by MMYEF (all-time cumulative from latest snapshot)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "1c9d9460",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "96ff5feb",
                  "fields": [
                    {
                      "name": "stream_id",
                      "expression": "`stream_id`"
                    },
                    {
                      "name": "obd_value",
                      "expression": "`obd_value`"
                    },
                    {
                      "name": "obd_value_name",
                      "expression": "`obd_value_name`"
                    },
                    {
                      "name": "candidate_count",
                      "expression": "`candidate_count`"
                    },
                    {
                      "name": "best_rank",
                      "expression": "`best_rank`"
                    },
                    {
                      "name": "worst_rank",
                      "expression": "`worst_rank`"
                    },
                    {
                      "name": "mmyef_count",
                      "expression": "`mmyef_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "stream_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "stream_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "obd_value",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "obd_value",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "obd_value_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "obd_value_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "candidate_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "candidate_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "best_rank",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "best_rank",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "worst_rank",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "worst_rank",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyef_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100006,
                    "title": "mmyef_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 50,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Training Candidates by Stream ID",
                "showDescription": true,
                "description": "Training candidates grouped by stream ID for underrepresented signals"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 12,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "c65671a6",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "1d26d27a",
                  "fields": [
                    {
                      "name": "tag_name",
                      "expression": "`tag_name`"
                    },
                    {
                      "name": "stream_id",
                      "expression": "`stream_id`"
                    },
                    {
                      "name": "obd_value",
                      "expression": "`obd_value`"
                    },
                    {
                      "name": "obd_value_name",
                      "expression": "`obd_value_name`"
                    },
                    {
                      "name": "candidate_count",
                      "expression": "`candidate_count`"
                    },
                    {
                      "name": "best_rank",
                      "expression": "`best_rank`"
                    },
                    {
                      "name": "worst_rank",
                      "expression": "`worst_rank`"
                    },
                    {
                      "name": "mmyef_count",
                      "expression": "`mmyef_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "tag_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "tag_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "stream_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "stream_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "obd_value",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "obd_value",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "obd_value_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "obd_value_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "candidate_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "candidate_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "best_rank",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "best_rank",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "worst_rank",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "worst_rank",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "mmyef_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100007,
                    "title": "mmyef_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 50,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Training Needs by Tag (Stream IDs)",
                "showDescription": true,
                "description": "Stream IDs/OBD values needing more traces for training, grouped by tag"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 20,
            "width": 6,
            "height": 6
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "d0db69ca",
      "displayName": "Prioritized Traces",
      "layout": [
        {
          "widget": {
            "name": "f1ee44f7",
            "multilineTextboxSpec": {
              "lines": [
                "## Prioritized Traces\n",
                "\n",
                "Most recent required traces from fct_can_traces_required, prioritized by device_day_rank (1 = highest priority). These are the traces that the cron job will attempt to collect.\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "9001183e",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "122b47d4",
                  "fields": [
                    {
                      "name": "date",
                      "expression": "`date`"
                    },
                    {
                      "name": "org_id",
                      "expression": "`org_id`"
                    },
                    {
                      "name": "device_id",
                      "expression": "`device_id`"
                    },
                    {
                      "name": "make",
                      "expression": "`make`"
                    },
                    {
                      "name": "model",
                      "expression": "`model`"
                    },
                    {
                      "name": "year",
                      "expression": "`year`"
                    },
                    {
                      "name": "engine_model",
                      "expression": "`engine_model`"
                    },
                    {
                      "name": "powertrain",
                      "expression": "`powertrain`"
                    },
                    {
                      "name": "fuel_group",
                      "expression": "`fuel_group`"
                    },
                    {
                      "name": "trim",
                      "expression": "`trim`"
                    },
                    {
                      "name": "start_time",
                      "expression": "`start_time`"
                    },
                    {
                      "name": "end_time",
                      "expression": "`end_time`"
                    },
                    {
                      "name": "device_day_rank",
                      "expression": "`device_day_rank`"
                    },
                    {
                      "name": "tags",
                      "expression": "`tags`"
                    },
                    {
                      "name": "tag_count",
                      "expression": "`tag_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "date",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100000,
                    "title": "date",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "dateTimeFormat": "YYYY-MM-DD"
                  },
                  {
                    "fieldName": "org_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "org_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "device_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "device_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "make",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "make",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "year",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "year",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "engine_model",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "engine_model",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "powertrain",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "powertrain",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "fuel_group",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100008,
                    "title": "fuel_group",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "trim",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100009,
                    "title": "trim",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "start_time",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100010,
                    "title": "start_time",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "dateTimeFormat": "YYYY-MM-DD"
                  },
                  {
                    "fieldName": "end_time",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100011,
                    "title": "end_time",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "dateTimeFormat": "YYYY-MM-DD"
                  },
                  {
                    "fieldName": "device_day_rank",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100012,
                    "title": "device_day_rank",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "tags",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100013,
                    "title": "tags",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "tag_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100014,
                    "title": "tag_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 100,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Latest Prioritized Traces",
                "showDescription": true,
                "description": "Most recent required traces prioritized by device_day_rank (1 = highest priority)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 6,
            "height": 10
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "3f5946c9",
      "displayName": "Global Filters",
      "layout": [
        {
          "name": "22399964",
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 2
          },
          "widget": {
            "name": "76dac629",
            "queries": [
              {
                "name": "param_c04cbb4a_date",
                "query": {
                  "datasetName": "c04cbb4a",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_205cb26b_date",
                "query": {
                  "datasetName": "205cb26b",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_5a9b401c_date",
                "query": {
                  "datasetName": "5a9b401c",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_ff0b99a9_date",
                "query": {
                  "datasetName": "ff0b99a9",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_150c4cc9_date",
                "query": {
                  "datasetName": "150c4cc9",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_cdbfe56e_date",
                "query": {
                  "datasetName": "cdbfe56e",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_bedeb90d_date",
                "query": {
                  "datasetName": "bedeb90d",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_adf9ecb6_date",
                "query": {
                  "datasetName": "adf9ecb6",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_96ff5feb_date",
                "query": {
                  "datasetName": "96ff5feb",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_1d26d27a_date",
                "query": {
                  "datasetName": "1d26d27a",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "param_122b47d4_date",
                "query": {
                  "datasetName": "122b47d4",
                  "parameters": [
                    {
                      "name": "date",
                      "keyword": "date"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-date-range-picker",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "date",
                    "queryName": "param_c04cbb4a_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_205cb26b_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_5a9b401c_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_ff0b99a9_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_150c4cc9_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_cdbfe56e_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_bedeb90d_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_adf9ecb6_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_96ff5feb_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_1d26d27a_date"
                  },
                  {
                    "parameterName": "date",
                    "queryName": "param_122b47d4_date"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Date Range"
              },
              "selection": {
                "defaultSelection": {
                  "range": {
                    "dataType": "DATE",
                    "min": {
                      "value": "now-90d/d"
                    },
                    "max": {
                      "value": "now/d"
                    }
                  }
                }
              }
            }
          }
        }
      ],
      "pageType": "PAGE_TYPE_GLOBAL_FILTERS"
    }
  ],
  "uiSettings": {
    "theme": {
      "widgetHeaderAlignment": "ALIGNMENT_UNSPECIFIED"
    },
    "applyModeEnabled": false
  },
  "parameters": [
    {
      "displayName": "date",
      "keyword": "date",
      "dataType": "DATE",
      "complexType": "RANGE",
      "defaultSelection": {
        "range": {
          "dataType": "DATE",
          "min": {
            "value": "now-90d/d"
          },
          "max": {
            "value": "now/d"
          }
        }
      }
    }
  ]
}
