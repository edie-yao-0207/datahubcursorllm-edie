{
  "view": "device_heartbeats_extended",
  "owner": "DataEngineering",
  "description": "This table is a replica of `dataprep.device_hearbeats` with additional product and organization properies",
  "database": "dataprep",
  "schema": [
    {
      "name": "org_id",
      "type": "long",
      "description": "$org_id_default_description"
    },
    {
      "name": "device_id",
      "type": "long",
      "description": "$device_id_default_description"
    },
    {
      "name": "first_heartbeat_date",
      "type": "string",
      "description": "The date on which the first event was recorded from the device"
    },
    {
      "name": "first_heartbeat_ms",
      "type": "long",
      "description": "The UNIX epoch time (in millisecond) of the first event recorded from the device"
    },
    {
      "name": "last_heartbeat_date",
      "type": "string",
      "description": "The date on which the latest event was recorded from the device"
    },
    {
      "name": "last_heartbeat_ms",
      "type": "long",
      "description": "The UNIX epoch time (in millisecond) of the latest event recorded from the device"
    },
    {
      "name": "last_reported_bootcount",
      "type": "long",
      "description": "The total number of device reboots"
    },
    {
      "name": "last_reported_build",
      "type": "string",
      "description": "The latest build version of the device"
    },
    {
      "name": "last_reported_gateway_id",
      "type": "long",
      "description": "The ID of the attached Vehicle Gateway (VG) from the latest device event. This is equal to 'device_id' when the device is a VG"
    },
    {
      "name": "serial",
      "type": "string",
      "description": "The device serial number of the attached Vehicle Gateway (VG)"
    },
    {
      "name": "org_name",
      "type": "string",
      "description": "The name of the organization"
    },
    {
      "name": "product_id",
      "type": "long",
      "description": "The internal ID of the Samsara product"
    },
    {
      "name": "internal_org",
      "type": "boolean",
      "description": "A boolean flag indicating whether the organization ID is an internal Samsara organization",
      "nullable": false
    }
  ],
  "dependencies": [
    {
      "dbname": "dataprep",
      "tablename": "device_heartbeats",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "productsdb",
      "tablename": "gateways",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "clouddb",
      "tablename": "organizations",
      "type": "table"
    }
  ]
}
