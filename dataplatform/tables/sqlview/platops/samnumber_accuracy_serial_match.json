{
  "view": "samnumber_accuracy_serial_match",
  "owner": "PlatformOperations",
  "description": "This view connects serials to related samnumber in cloud and ns. This is useful to find differences between the systems",
  "database": "platops",
  "schema": [
    { "name": "org_id", "type": "long", "description": "Id for the organization" },
    {
      "name": "sam_number",
      "type": "string",
      "description": "Samnumber is a unique id that ties customer accounts together in Netsuite, Salesforce, and Samsara cloud dashboard."
    },
    {
      "name": "total_serials",
      "type": "long",
      "nullable": false,
      "description": "Total count of serials for this organization"
    },
    {
      "name": "mismatched_serials",
      "type": "long",
      "nullable": false,
      "description": "Total count of serials with differing serials for this organization."
    },
    { "name": "percent_serial_mismatch", "type": "double", "description": "mismatched_serials/total_serials" }
  ],
  "dependencies": [
    {
      "dbname": "platops",
      "tablename": "serial_to_samnumber",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "netsuite_data",
      "tablename": "serial_to_samnumber",
      "type": "table"
    },
    {
      "dbname": "clouddb",
      "tablename": "org_sfdc_accounts",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "clouddb",
      "tablename": "users_organizations",
      "type": "table"
    }
  ]
}
