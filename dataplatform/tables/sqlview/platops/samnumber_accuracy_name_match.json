{
  "view": "samnumber_accuracy_name_match",
  "owner": "PlatformOperations",
  "description": "This view connects org name to related samnumber in sfdc, cloud, and ns. This is useful to find differences between the three systems",
  "database": "platops",
  "schema": [
    { "name": "org_id", "type": "long", "description": "Id of the organization we are comparing" },
    { "name": "cloud_name", "type": "string", "description": "Name of organization in cloud" },
    { "name": "cloud_name_soundex", "type": "string", "description": "Soundex value for cloud_name" },
    { "name": "sfdc_name", "type": "string", "description": "Name of account in sfdc" },
    { "name": "sfdc_name_soundex", "type": "string", "description": "Soundex value for sfdc_name" },
    {
      "name": "sfdc_name_levenshtein",
      "type": "integer",
      "description": "Levenshtein distance from cloud_name to sfdc_name"
    },
    { "name": "sfdc_name_levenshtein_percent", "type": "double", "description": "sfdc_name_levenshtein / len of name" },
    { "name": "ns_name", "type": "string", "description": "Name of account in NetSuite" },
    { "name": "ns_name_soundex", "type": "string", "description": "Soundex value for ns_name" },
    {
      "name": "ns_name_levenshtein",
      "type": "integer",
      "description": "Levenshtein distance from cloud_name to ns_name"
    },
    { "name": "ns_name_levenshtein_percent", "type": "double", "description": "ns_name_levenshtein / len of name" },
    {
      "name": "sam_number",
      "type": "string",
      "description": "Samnumber is a unique id that ties customer accounts together in Netsuite, Salesforce, and Samsara cloud dashboard."
    }
  ],
  "dependencies": [
    {
      "dbname": "platops",
      "tablename": "org_name_to_samnumber",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "sfdc_data",
      "tablename": "sfdc_accounts",
      "type": "table"
    },
    {
      "dbname": "netsuite_data",
      "tablename": "org_name_to_samnumber",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "clouddb",
      "tablename": "org_sfdc_accounts",
      "type": "table"
    },
    {
      "dbname": "clouddb",
      "tablename": "users_organizations",
      "type": "table"
    }
  ]
}
