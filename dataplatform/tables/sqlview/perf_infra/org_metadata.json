{
  "view": "org_metadata",
  "owner": "OPX",
  "description": "Metadata about orgs, including device, user, and tag counts.",
  "database": "perf_infra",
  "regions": ["us-west-2"],
  "schema": [
    {
      "name": "org_id",
      "type": "long",
      "description": "The org for this route, joinable with clouddb.organizations."
    },
    {
      "name": "name",
      "type": "string",
      "description": "Name of the organization."
    },
    {
      "name": "active_vg_count",
      "type": "long",
      "description": "Number of VG devices that sent a heartbeat in the last 30 days."
    },
    {
      "name": "active_cm_count",
      "type": "long",
      "description": "Number of CM devices that sent a heartbeat in the last 30 days."
    },
    {
      "name": "active_ag_count",
      "type": "long",
      "description": "Number of AG devices that sent a heartbeat in the last 30 days."
    },
    {
      "name": "active_ig_count",
      "type": "long",
      "description": "Number of IG devices that sent a heartbeat in the last 30 days."
    },
    {
      "name": "num_dashboard_users",
      "type": "long",
      "nullable": false,
      "description": "The number of active users that log into the cloud dashboard for this org."
    },
    {
      "name": "driver_count",
      "type": "long",
      "nullable": false,
      "description": "The number of drivers in this org."
    },
    {
      "name": "tag_count",
      "type": "long",
      "nullable": false,
      "description": "The number of tags in this org."
    },
    {
      "name": "soft_trailer_count",
      "type": "long",
      "nullable": false,
      "description": "The total number of soft trailers in this org."
    }
  ],
  "dependencies": [
    {
      "dbname": "customer360",
      "tablename": "customer_360_snapshot",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "clouddb",
      "tablename": "organizations",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "clouddb",
      "tablename": "drivers",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "clouddb",
      "tablename": "tags",
      "type": "table"
    },
    {
      "external": true,
      "dbname": "productsdb",
      "tablename": "devices",
      "type": "table"
    }
  ]
}
